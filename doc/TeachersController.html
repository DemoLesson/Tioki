<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Class: TeachersController
  
    &mdash; Documentation by YARD 0.8.2.1
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" media="screen" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '';
  framesUrl = "frames.html#!" + escape(window.location.href);
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="_index.html">Index (T)</a> &raquo;
    
    
    <span class="title">TeachersController</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Class: TeachersController
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName"><span class='object_link'><a href="ApplicationController.html" title="ApplicationController (class)">ApplicationController</a></span></span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">ActionController::Base</li>
          
            <li class="next"><span class='object_link'><a href="ApplicationController.html" title="ApplicationController (class)">ApplicationController</a></span></li>
          
            <li class="next">TeachersController</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">app/controllers/teachers_controller.rb</dd>
  
</dl>
<div class="clear"></div>








  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#add_pin-instance_method" title="#add_pin (instance method)">- (Object) <strong>add_pin</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Actions (AJAXify + REFACTOR).</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#add_star-instance_method" title="#add_star (instance method)">- (Object) <strong>add_star</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#appattachments-instance_method" title="#appattachments (instance method)">- (Object) <strong>appattachments</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#attach-instance_method" title="#attach (instance method)">- (Object) <strong>attach</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Attachments REFACTOR.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#callback-instance_method" title="#callback (instance method)">- (Object) <strong>callback</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#create-instance_method" title="#create (instance method)">- (Object) <strong>create</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>POST /teachers POST /teachers.json.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#create_profile-instance_method" title="#create_profile (instance method)">- (Object) <strong>create_profile</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#edit-instance_method" title="#edit (instance method)">- (Object) <strong>edit</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>GET /teachers/1/edit.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#edit_education-instance_method" title="#edit_education (instance method)">- (Object) <strong>edit_education</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#edit_experience-instance_method" title="#edit_experience (instance method)">- (Object) <strong>edit_experience</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#edit_skills-instance_method" title="#edit_skills (instance method)">- (Object) <strong>edit_skills</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#education-instance_method" title="#education (instance method)">- (Object) <strong>education</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Profile Editing.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#experience-instance_method" title="#experience (instance method)">- (Object) <strong>experience</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#favorites-instance_method" title="#favorites (instance method)">- (Object) <strong>favorites</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#feature_video-instance_method" title="#feature_video (instance method)">- (Object) <strong>feature_video</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#guest_entry-instance_method" title="#guest_entry (instance method)">- (Object) <strong>guest_entry</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Guest pass.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#linkedinprofile-instance_method" title="#linkedinprofile (instance method)">- (Object) <strong>linkedinprofile</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#new-instance_method" title="#new (instance method)">- (Object) <strong>new</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>GET /teachers/new GET /teachers/new.json.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#profile-instance_method" title="#profile (instance method)">- (Object) <strong>profile</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>GET /teachers/1 GET /teachers/1.json.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#profileattachments-instance_method" title="#profileattachments (instance method)">- (Object) <strong>profileattachments</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#purge-instance_method" title="#purge (instance method)">- (Object) <strong>purge</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#remove_education-instance_method" title="#remove_education (instance method)">- (Object) <strong>remove_education</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#remove_experience-instance_method" title="#remove_experience (instance method)">- (Object) <strong>remove_experience</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#remove_pin-instance_method" title="#remove_pin (instance method)">- (Object) <strong>remove_pin</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#remove_star-instance_method" title="#remove_star (instance method)">- (Object) <strong>remove_star</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#request_vouch-instance_method" title="#request_vouch (instance method)">- (Object) <strong>request_vouch</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#show-instance_method" title="#show (instance method)">- (Object) <strong>show</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>GET /teachers/1 GET /teachers/1.json.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#skills-instance_method" title="#skills (instance method)">- (Object) <strong>skills</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#stats-instance_method" title="#stats (instance method)">- (Object) <strong>stats</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Profile stats.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#teacher_applications-instance_method" title="#teacher_applications (instance method)">- (Object) <strong>teacher_applications</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#update-instance_method" title="#update (instance method)">- (Object) <strong>update</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>PUT /teachers/1 PUT /teachers/1.json.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#update_education-instance_method" title="#update_education (instance method)">- (Object) <strong>update_education</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#update_existing_education-instance_method" title="#update_existing_education (instance method)">- (Object) <strong>update_existing_education</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#update_existing_experience-instance_method" title="#update_existing_experience (instance method)">- (Object) <strong>update_existing_experience</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#update_experience-instance_method" title="#update_experience (instance method)">- (Object) <strong>update_experience</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <span class='object_link'><a href="ApplicationController.html" title="ApplicationController (class)">ApplicationController</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="ApplicationController.html#belongs_to_me-instance_method" title="ApplicationController#belongs_to_me (method)">#belongs_to_me</a></span>, <span class='object_link'><a href="ApplicationController.html#check_if_referer-instance_method" title="ApplicationController#check_if_referer (method)">#check_if_referer</a></span>, <span class='object_link'><a href="ApplicationController.html#check_login_token-instance_method" title="ApplicationController#check_login_token (method)">#check_login_token</a></span>, <span class='object_link'><a href="ApplicationController.html#current_user-instance_method" title="ApplicationController#current_user (method)">#current_user</a></span>, <span class='object_link'><a href="ApplicationController.html#get_analytics-instance_method" title="ApplicationController#get_analytics (method)">#get_analytics</a></span>, <span class='object_link'><a href="ApplicationController.html#is_admin-instance_method" title="ApplicationController#is_admin (method)">#is_admin</a></span>, <span class='object_link'><a href="ApplicationController.html#log_analytic-instance_method" title="ApplicationController#log_analytic (method)">#log_analytic</a></span>, <span class='object_link'><a href="ApplicationController.html#login_required-instance_method" title="ApplicationController#login_required (method)">#login_required</a></span>, <span class='object_link'><a href="ApplicationController.html#redirect_to_stored-instance_method" title="ApplicationController#redirect_to_stored (method)">#redirect_to_stored</a></span></p>

  

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="add_pin-instance_method">
  
    - (<tt>Object</tt>) <strong>add_pin</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Actions (AJAXify + REFACTOR)</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/controllers/teachers_controller.rb', line 385</span>

<span class='kw'>def</span> <span class='id identifier rubyid_add_pin'>add_pin</span>
	<span class='ivar'>@pin</span> <span class='op'>=</span> <span class='const'>Pin</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
	<span class='ivar'>@pin</span><span class='period'>.</span><span class='id identifier rubyid_user_id'>user_id</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_user'>current_user</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span>
	<span class='ivar'>@pin</span><span class='period'>.</span><span class='id identifier rubyid_teacher_id'>teacher_id</span> <span class='op'>=</span> <span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:teacher_id</span><span class='rbracket'>]</span>
	
	<span class='comment'># warning add duplicate check here
</span>	
	<span class='kw'>if</span> <span class='lparen'>(</span><span class='id identifier rubyid_request'>request</span><span class='period'>.</span><span class='id identifier rubyid_xhr?'>xhr?</span><span class='rparen'>)</span>
		<span class='kw'>if</span> <span class='ivar'>@pin</span><span class='period'>.</span><span class='id identifier rubyid_save'>save</span> 
			<span class='id identifier rubyid_render'>render</span> <span class='symbol'>:text</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Pinned!</span><span class='tstring_end'>&quot;</span></span>
		<span class='kw'>end</span>
	<span class='kw'>else</span>
			<span class='comment'># No?  Then render an action.
</span>			<span class='kw'>if</span> <span class='ivar'>@pin</span><span class='period'>.</span><span class='id identifier rubyid_save'>save</span> 
				<span class='id identifier rubyid_respond_to'>respond_to</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_format'>format</span><span class='op'>|</span>
					<span class='id identifier rubyid_format'>format</span><span class='period'>.</span><span class='id identifier rubyid_html'>html</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_redirect_to'>redirect_to</span> <span class='symbol'>:root</span> <span class='rbrace'>}</span>
				<span class='kw'>end</span>
			<span class='kw'>end</span>
	<span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="add_star-instance_method">
  
    - (<tt>Object</tt>) <strong>add_star</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


415
416
417
418
419
420
421
422
423
424
425
426
427</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/controllers/teachers_controller.rb', line 415</span>

<span class='kw'>def</span> <span class='id identifier rubyid_add_star'>add_star</span>
	<span class='ivar'>@star</span> <span class='op'>=</span> <span class='const'>Star</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
	<span class='ivar'>@star</span><span class='period'>.</span><span class='id identifier rubyid_teacher_id'>teacher_id</span> <span class='op'>=</span> <span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:teacher_id</span><span class='rbracket'>]</span>
	<span class='ivar'>@star</span><span class='period'>.</span><span class='id identifier rubyid_voter_id'>voter_id</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_user'>current_user</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span>
	
	<span class='ivar'>@teacher</span> <span class='op'>=</span> <span class='const'>Teacher</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:teacher_id</span><span class='rbracket'>]</span><span class='rparen'>)</span>
	
	<span class='kw'>if</span> <span class='ivar'>@star</span><span class='period'>.</span><span class='id identifier rubyid_save'>save</span>
		<span class='id identifier rubyid_respond_to'>respond_to</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_format'>format</span><span class='op'>|</span>
			<span class='id identifier rubyid_format'>format</span><span class='period'>.</span><span class='id identifier rubyid_html'>html</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_redirect_to'>redirect_to</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/</span><span class='tstring_end'>&quot;</span></span><span class='op'>+</span><span class='ivar'>@teacher</span><span class='period'>.</span><span class='id identifier rubyid_url'>url</span> <span class='rbrace'>}</span>
		<span class='kw'>end</span>
	<span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="appattachments-instance_method">
  
    - (<tt>Object</tt>) <strong>appattachments</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


567
568
569
570</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/controllers/teachers_controller.rb', line 567</span>

<span class='kw'>def</span> <span class='id identifier rubyid_appattachments'>appattachments</span>
	<span class='ivar'>@application</span> <span class='op'>=</span> <span class='const'>Application</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:id</span><span class='rbracket'>]</span><span class='rparen'>)</span>
	<span class='ivar'>@teacher</span> <span class='op'>=</span> <span class='const'>Teacher</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_user'>current_user</span><span class='period'>.</span><span class='id identifier rubyid_teacher'>teacher</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="attach-instance_method">
  
    - (<tt>Object</tt>) <strong>attach</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Attachments REFACTOR</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


355
356
357
358
359
360
361
362
363
364
365
366
367
368</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/controllers/teachers_controller.rb', line 355</span>

<span class='kw'>def</span> <span class='id identifier rubyid_attach'>attach</span>
	<span class='ivar'>@teacher</span> <span class='op'>=</span> <span class='const'>Teacher</span><span class='period'>.</span><span class='id identifier rubyid_find_by_id'>find_by_id</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_user'>current_user</span><span class='period'>.</span><span class='id identifier rubyid_teacher'>teacher</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='rparen'>)</span>
	<span class='ivar'>@teacher</span><span class='period'>.</span><span class='id identifier rubyid_new_asset_attributes'>new_asset_attributes</span><span class='op'>=</span><span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:asset</span><span class='rbracket'>]</span>

	<span class='id identifier rubyid_respond_to'>respond_to</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_format'>format</span><span class='op'>|</span>
		<span class='kw'>if</span> <span class='ivar'>@teacher</span><span class='period'>.</span><span class='id identifier rubyid_save_assets'>save_assets</span>
			<span class='id identifier rubyid_format'>format</span><span class='period'>.</span><span class='id identifier rubyid_html'>html</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_redirect_to'>redirect_to</span><span class='lparen'>(</span><span class='ivar'>@teacher</span><span class='comma'>,</span> <span class='symbol'>:notice</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>Attachment was successfully uploaded.</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span> <span class='rbrace'>}</span>
			<span class='id identifier rubyid_format'>format</span><span class='period'>.</span><span class='id identifier rubyid_json'>json</span>  <span class='lbrace'>{</span> <span class='id identifier rubyid_render'>render</span> <span class='symbol'>:json</span> <span class='op'>=&gt;</span> <span class='ivar'>@teacher</span><span class='comma'>,</span> <span class='symbol'>:status</span> <span class='op'>=&gt;</span> <span class='symbol'>:created</span><span class='comma'>,</span> <span class='symbol'>:location</span> <span class='op'>=&gt;</span> <span class='ivar'>@teacher</span> <span class='rbrace'>}</span>
		<span class='kw'>else</span>
			<span class='id identifier rubyid_format'>format</span><span class='period'>.</span><span class='id identifier rubyid_html'>html</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_render'>render</span> <span class='symbol'>:action</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>new</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span>
			<span class='id identifier rubyid_format'>format</span><span class='period'>.</span><span class='id identifier rubyid_json'>json</span>  <span class='lbrace'>{</span> <span class='id identifier rubyid_render'>render</span> <span class='symbol'>:json</span> <span class='op'>=&gt;</span> <span class='ivar'>@teacher</span><span class='period'>.</span><span class='id identifier rubyid_errors'>errors</span><span class='comma'>,</span> <span class='symbol'>:status</span> <span class='op'>=&gt;</span> <span class='symbol'>:unprocessable_entity</span> <span class='rbrace'>}</span>
		<span class='kw'>end</span>
	<span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="callback-instance_method">
  
    - (<tt>Object</tt>) <strong>callback</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
499
500
501
502
503
504
505
506
507
508
509
510
511
512
513
514
515
516
517
518
519
520
521
522
523
524
525
526
527
528
529
530
531
532
533
534
535
536
537
538
539
540
541
542
543
544
545
546
547
548
549
550
551
552
553
554</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/controllers/teachers_controller.rb', line 455</span>

<span class='kw'>def</span> <span class='id identifier rubyid_callback'>callback</span>
	<span class='ivar'>@teacher</span> <span class='op'>=</span> <span class='const'>Teacher</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_user'>current_user</span><span class='period'>.</span><span class='id identifier rubyid_teacher'>teacher</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='rparen'>)</span>
	<span class='id identifier rubyid_client'>client</span> <span class='op'>=</span> <span class='const'>LinkedIn</span><span class='op'>::</span><span class='const'>Client</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='const'>API_KEY</span><span class='comma'>,</span> <span class='const'>SECRET_KEY</span><span class='rparen'>)</span>
	<span class='id identifier rubyid_pin'>pin</span> <span class='op'>=</span> <span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:oauth_verifier</span><span class='rbracket'>]</span>
	<span class='id identifier rubyid_client'>client</span><span class='period'>.</span><span class='id identifier rubyid_authorize_from_request'>authorize_from_request</span><span class='lparen'>(</span><span class='id identifier rubyid_session'>session</span><span class='lbracket'>[</span><span class='symbol'>:rtoken</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_session'>session</span><span class='lbracket'>[</span><span class='symbol'>:rsecret</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_pin'>pin</span><span class='rparen'>)</span>

	<span class='comment'>#begin populating profile
</span>	<span class='comment'>#set teacher.linkedin
</span>	<span class='id identifier rubyid_user'>user</span> <span class='op'>=</span> <span class='id identifier rubyid_client'>client</span><span class='period'>.</span><span class='id identifier rubyid_profile'>profile</span><span class='lparen'>(</span><span class='symbol'>:fields</span> <span class='op'>=&gt;</span> <span class='qwords_beg'>%w(</span><span class='tstring_content'>public-profile-url</span><span class='words_sep'>)</span><span class='rparen'>)</span>
	<span class='ivar'>@teacher</span><span class='period'>.</span><span class='id identifier rubyid_update_attribute'>update_attribute</span><span class='lparen'>(</span><span class='symbol'>:linkedin</span><span class='comma'>,</span> <span class='id identifier rubyid_user'>user</span><span class='period'>.</span><span class='id identifier rubyid_public_profile_url'>public_profile_url</span><span class='rparen'>)</span>

	<span class='comment'>#educations
</span>	<span class='id identifier rubyid_user'>user</span> <span class='op'>=</span> <span class='id identifier rubyid_client'>client</span><span class='period'>.</span><span class='id identifier rubyid_profile'>profile</span><span class='lparen'>(</span><span class='symbol'>:fields</span> <span class='op'>=&gt;</span> <span class='qwords_beg'>%w(</span><span class='tstring_content'>educations</span><span class='words_sep'>)</span><span class='rparen'>)</span>
	<span class='kw'>if</span> <span class='id identifier rubyid_user'>user</span><span class='period'>.</span><span class='id identifier rubyid_educations'>educations</span><span class='period'>.</span><span class='id identifier rubyid_all'>all</span> <span class='op'>!=</span> <span class='kw'>nil</span>
		<span class='id identifier rubyid_user'>user</span><span class='period'>.</span><span class='id identifier rubyid_educations'>educations</span><span class='period'>.</span><span class='id identifier rubyid_all'>all</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_education'>education</span><span class='op'>|</span>
			<span class='id identifier rubyid_school'>school</span> <span class='op'>=</span> <span class='id identifier rubyid_education'>education</span><span class='period'>.</span><span class='id identifier rubyid_school_name'>school_name</span>
			<span class='id identifier rubyid_degree'>degree</span> <span class='op'>=</span> <span class='id identifier rubyid_education'>education</span><span class='period'>.</span><span class='id identifier rubyid_degree'>degree</span>
			<span class='id identifier rubyid_concentrations'>concentrations</span> <span class='op'>=</span> <span class='id identifier rubyid_education'>education</span><span class='period'>.</span><span class='id identifier rubyid_field_of_study'>field_of_study</span>
			<span class='kw'>if</span> <span class='id identifier rubyid_education'>education</span><span class='period'>.</span><span class='id identifier rubyid_end_date'>end_date</span>
				<span class='id identifier rubyid_year'>year</span> <span class='op'>=</span> <span class='id identifier rubyid_education'>education</span><span class='period'>.</span><span class='id identifier rubyid_end_date'>end_date</span><span class='period'>.</span><span class='id identifier rubyid_year'>year</span>
			<span class='kw'>end</span>
			<span class='ivar'>@teacher</span><span class='period'>.</span><span class='id identifier rubyid_educations'>educations</span><span class='period'>.</span><span class='id identifier rubyid_build'>build</span><span class='lparen'>(</span><span class='symbol'>:school</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_school'>school</span><span class='comma'>,</span> <span class='symbol'>:degree</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_degree'>degree</span><span class='comma'>,</span> <span class='symbol'>:concentrations</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_concentrations'>concentrations</span><span class='comma'>,</span> <span class='symbol'>:year</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_year'>year</span><span class='rparen'>)</span>
			<span class='ivar'>@teacher</span><span class='period'>.</span><span class='id identifier rubyid_save'>save</span>
		<span class='kw'>end</span>
	<span class='kw'>end</span>

	<span class='comment'>#positions
</span>	<span class='id identifier rubyid_user'>user</span> <span class='op'>=</span> <span class='id identifier rubyid_client'>client</span><span class='period'>.</span><span class='id identifier rubyid_profile'>profile</span><span class='lparen'>(</span><span class='symbol'>:fields</span> <span class='op'>=&gt;</span> <span class='qwords_beg'>%w(</span><span class='tstring_content'>positions</span><span class='words_sep'>)</span><span class='rparen'>)</span>
	<span class='id identifier rubyid_currentposition'>currentposition</span><span class='op'>=</span><span class='kw'>nil</span>
	<span class='id identifier rubyid_currentschool'>currentschool</span><span class='op'>=</span><span class='kw'>nil</span>
	<span class='kw'>if</span> <span class='id identifier rubyid_user'>user</span><span class='period'>.</span><span class='id identifier rubyid_positions'>positions</span><span class='period'>.</span><span class='id identifier rubyid_all'>all</span> <span class='op'>!=</span> <span class='kw'>nil</span>
		<span class='id identifier rubyid_user'>user</span><span class='period'>.</span><span class='id identifier rubyid_positions'>positions</span><span class='period'>.</span><span class='id identifier rubyid_all'>all</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_position'>position</span><span class='op'>|</span>
			<span class='id identifier rubyid_company'>company</span> <span class='op'>=</span> <span class='id identifier rubyid_position'>position</span><span class='period'>.</span><span class='id identifier rubyid_company'>company</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
			<span class='id identifier rubyid_positiontitle'>positiontitle</span> <span class='op'>=</span> <span class='id identifier rubyid_position'>position</span><span class='period'>.</span><span class='id identifier rubyid_title'>title</span>
			<span class='kw'>if</span> <span class='id identifier rubyid_position'>position</span><span class='period'>.</span><span class='id identifier rubyid_start_date'>start_date</span>
				<span class='id identifier rubyid_startMonth'>startMonth</span> <span class='op'>=</span> <span class='id identifier rubyid_position'>position</span><span class='period'>.</span><span class='id identifier rubyid_start_date'>start_date</span><span class='period'>.</span><span class='id identifier rubyid_month'>month</span>
				<span class='id identifier rubyid_startYear'>startYear</span> <span class='op'>=</span> <span class='id identifier rubyid_position'>position</span><span class='period'>.</span><span class='id identifier rubyid_start_date'>start_date</span><span class='period'>.</span><span class='id identifier rubyid_year'>year</span>
			<span class='kw'>end</span>
			<span class='kw'>if</span> <span class='id identifier rubyid_position'>position</span><span class='period'>.</span><span class='id identifier rubyid_is_current'>is_current</span> <span class='op'>==</span> <span class='kw'>true</span>
				<span class='id identifier rubyid_endMonth'>endMonth</span> <span class='op'>=</span> <span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_now'>now</span><span class='period'>.</span><span class='id identifier rubyid_month'>month</span>
				<span class='id identifier rubyid_endYear'>endYear</span> <span class='op'>=</span> <span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_now'>now</span><span class='period'>.</span><span class='id identifier rubyid_year'>year</span>
				<span class='id identifier rubyid_current'>current</span> <span class='op'>=</span> <span class='kw'>true</span>
				<span class='kw'>if</span> <span class='id identifier rubyid_position'>position</span><span class='period'>.</span><span class='id identifier rubyid_company'>company</span><span class='period'>.</span><span class='id identifier rubyid_industry'>industry</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Primary/Secondary Education</span><span class='tstring_end'>&quot;</span></span>
					<span class='id identifier rubyid_currentposition'>currentposition</span> <span class='op'>=</span> <span class='id identifier rubyid_position'>position</span><span class='period'>.</span><span class='id identifier rubyid_title'>title</span>
					<span class='id identifier rubyid_currentschool'>currentschool</span> <span class='op'>=</span> <span class='id identifier rubyid_position'>position</span><span class='period'>.</span><span class='id identifier rubyid_company'>company</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
				<span class='kw'>end</span>
			<span class='kw'>else</span>
				<span class='id identifier rubyid_endMonth'>endMonth</span> <span class='op'>=</span> <span class='id identifier rubyid_position'>position</span><span class='period'>.</span><span class='id identifier rubyid_end_date'>end_date</span><span class='period'>.</span><span class='id identifier rubyid_month'>month</span>
				<span class='id identifier rubyid_endYear'>endYear</span> <span class='op'>=</span> <span class='id identifier rubyid_position'>position</span><span class='period'>.</span><span class='id identifier rubyid_end_date'>end_date</span><span class='period'>.</span><span class='id identifier rubyid_year'>year</span>
				<span class='id identifier rubyid_current'>current</span> <span class='op'>=</span> <span class='kw'>false</span>
			<span class='kw'>end</span>
			<span class='ivar'>@teacher</span><span class='period'>.</span><span class='id identifier rubyid_experiences'>experiences</span><span class='period'>.</span><span class='id identifier rubyid_build'>build</span><span class='lparen'>(</span><span class='symbol'>:company</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_company'>company</span><span class='comma'>,</span> <span class='symbol'>:position</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_positiontitle'>positiontitle</span><span class='comma'>,</span> <span class='symbol'>:startMonth</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_startMonth'>startMonth</span><span class='comma'>,</span> <span class='symbol'>:startYear</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_startYear'>startYear</span><span class='comma'>,</span> <span class='symbol'>:endMonth</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_endMonth'>endMonth</span><span class='comma'>,</span> <span class='symbol'>:endYear</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_endYear'>endYear</span><span class='comma'>,</span> <span class='symbol'>:current</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_current'>current</span><span class='rparen'>)</span>
			<span class='ivar'>@teacher</span><span class='period'>.</span><span class='id identifier rubyid_save'>save</span>
		<span class='kw'>end</span>
	<span class='kw'>end</span>
	<span class='kw'>if</span> <span class='id identifier rubyid_currentschool'>currentschool</span> <span class='op'>!=</span> <span class='kw'>nil</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_currentposition'>currentposition</span> <span class='op'>!=</span> <span class='kw'>nil</span>
		<span class='ivar'>@teacher</span><span class='period'>.</span><span class='id identifier rubyid_update_attribute'>update_attribute</span><span class='lparen'>(</span><span class='symbol'>:school</span><span class='comma'>,</span> <span class='id identifier rubyid_currentschool'>currentschool</span><span class='rparen'>)</span>
		<span class='ivar'>@teacher</span><span class='period'>.</span><span class='id identifier rubyid_update_attribute'>update_attribute</span><span class='lparen'>(</span><span class='symbol'>:position</span><span class='comma'>,</span> <span class='id identifier rubyid_currentposition'>currentposition</span><span class='rparen'>)</span>
	<span class='kw'>end</span>

	<span class='comment'>#phone number
</span>	<span class='id identifier rubyid_user'>user</span><span class='op'>=</span> <span class='id identifier rubyid_client'>client</span><span class='period'>.</span><span class='id identifier rubyid_profile'>profile</span><span class='lparen'>(</span><span class='symbol'>:fields</span> <span class='op'>=&gt;</span> <span class='qwords_beg'>%w(</span><span class='tstring_content'>phone-numbers</span><span class='words_sep'>)</span><span class='rparen'>)</span>
	<span class='id identifier rubyid_phone'>phone</span><span class='op'>=</span><span class='kw'>nil</span>
	<span class='kw'>if</span> <span class='id identifier rubyid_user'>user</span><span class='period'>.</span><span class='id identifier rubyid_phone_numbers'>phone_numbers</span><span class='period'>.</span><span class='id identifier rubyid_all'>all</span> <span class='op'>!=</span> <span class='kw'>nil</span>
		<span class='id identifier rubyid_user'>user</span><span class='period'>.</span><span class='id identifier rubyid_phone_numbers'>phone_numbers</span><span class='period'>.</span><span class='id identifier rubyid_all'>all</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_number'>number</span><span class='op'>|</span>
			<span class='kw'>if</span> <span class='id identifier rubyid_number'>number</span><span class='period'>.</span><span class='id identifier rubyid_phone_type'>phone_type</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>home</span><span class='tstring_end'>&quot;</span></span> <span class='op'>||</span> <span class='id identifier rubyid_number'>number</span><span class='period'>.</span><span class='id identifier rubyid_phone_type'>phone_type</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>mobile</span><span class='tstring_end'>&quot;</span></span>
				<span class='id identifier rubyid_phone'>phone</span> <span class='op'>=</span> <span class='id identifier rubyid_number'>number</span><span class='period'>.</span><span class='id identifier rubyid_phone_number'>phone_number</span>
				<span class='kw'>break</span>
			<span class='kw'>end</span>
		<span class='kw'>end</span>
	<span class='kw'>end</span>
	<span class='kw'>if</span> <span class='id identifier rubyid_phone'>phone</span> <span class='op'>!=</span> <span class='kw'>nil</span>
		<span class='ivar'>@teacher</span><span class='period'>.</span><span class='id identifier rubyid_update_attribute'>update_attribute</span><span class='lparen'>(</span><span class='symbol'>:phone</span><span class='comma'>,</span> <span class='id identifier rubyid_phone'>phone</span><span class='rparen'>)</span>
	<span class='kw'>end</span>

	<span class='comment'>#Addtional Information:
</span>	<span class='id identifier rubyid_addinfo'>addinfo</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
	<span class='comment'>#Interests
</span>	<span class='id identifier rubyid_user'>user</span> <span class='op'>=</span><span class='id identifier rubyid_client'>client</span><span class='period'>.</span><span class='id identifier rubyid_profile'>profile</span><span class='lparen'>(</span><span class='symbol'>:fields</span> <span class='op'>=&gt;</span> <span class='qwords_beg'>%w(</span><span class='tstring_content'>interests</span><span class='words_sep'>)</span><span class='rparen'>)</span>
	<span class='kw'>if</span> <span class='id identifier rubyid_user'>user</span><span class='period'>.</span><span class='id identifier rubyid_interests'>interests</span> <span class='op'>!=</span> <span class='kw'>nil</span>
		<span class='id identifier rubyid_addinfo'>addinfo</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Interests: </span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_user'>user</span><span class='period'>.</span><span class='id identifier rubyid_interests'>interests</span>
	<span class='kw'>end</span>
	<span class='comment'>#groups and associations
</span>	<span class='id identifier rubyid_user'>user</span> <span class='op'>=</span><span class='id identifier rubyid_client'>client</span><span class='period'>.</span><span class='id identifier rubyid_profile'>profile</span><span class='lparen'>(</span><span class='symbol'>:fields</span> <span class='op'>=&gt;</span> <span class='qwords_beg'>%w(</span><span class='tstring_content'>associations</span><span class='words_sep'>)</span><span class='rparen'>)</span>
	<span class='kw'>if</span> <span class='id identifier rubyid_user'>user</span><span class='period'>.</span><span class='id identifier rubyid_associations'>associations</span> <span class='op'>!=</span> <span class='kw'>nil</span>
		<span class='id identifier rubyid_addinfo'>addinfo</span> <span class='op'>=</span> <span class='id identifier rubyid_addinfo'>addinfo</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\nGroups and Associations: </span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_user'>user</span><span class='period'>.</span><span class='id identifier rubyid_associations'>associations</span>
	<span class='kw'>end</span>
	<span class='comment'>#honors
</span>	<span class='id identifier rubyid_user'>user</span> <span class='op'>=</span><span class='id identifier rubyid_client'>client</span><span class='period'>.</span><span class='id identifier rubyid_profile'>profile</span><span class='lparen'>(</span><span class='symbol'>:fields</span> <span class='op'>=&gt;</span> <span class='qwords_beg'>%w(</span><span class='tstring_content'>honors</span><span class='words_sep'>)</span><span class='rparen'>)</span>
	<span class='kw'>if</span> <span class='id identifier rubyid_user'>user</span><span class='period'>.</span><span class='id identifier rubyid_honors'>honors</span> <span class='op'>!=</span> <span class='kw'>nil</span>
		<span class='id identifier rubyid_addinfo'>addinfo</span> <span class='op'>=</span> <span class='id identifier rubyid_addinfo'>addinfo</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\nHonors: </span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_user'>user</span><span class='period'>.</span><span class='id identifier rubyid_honors'>honors</span>
	<span class='kw'>end</span>
	<span class='ivar'>@teacher</span><span class='period'>.</span><span class='id identifier rubyid_update_attribute'>update_attribute</span><span class='lparen'>(</span><span class='symbol'>:additional_information</span><span class='comma'>,</span> <span class='id identifier rubyid_addinfo'>addinfo</span><span class='rparen'>)</span>

	<span class='comment'>#Linkedin integration is currently a one time thing so deleting session keys
</span>	<span class='comment'>#and redirecting to profile like create_profile does
</span>	<span class='id identifier rubyid_session'>session</span><span class='lbracket'>[</span><span class='symbol'>:rtoken</span><span class='rbracket'>]</span><span class='op'>=</span><span class='kw'>nil</span>
	<span class='id identifier rubyid_session'>session</span><span class='lbracket'>[</span><span class='symbol'>:rsecret</span><span class='rbracket'>]</span><span class='op'>=</span><span class='kw'>nil</span>
	<span class='id identifier rubyid_redirect_to'>redirect_to</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>/profile/</span><span class='tstring_end'>'</span></span><span class='op'>+</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_user'>current_user</span><span class='period'>.</span><span class='id identifier rubyid_teacher'>teacher</span><span class='period'>.</span><span class='id identifier rubyid_url'>url</span>     
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="create-instance_method">
  
    - (<tt>Object</tt>) <strong>create</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>POST /teachers POST /teachers.json</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


310
311
312
313
314
315
316
317
318
319
320
321
322
323</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/controllers/teachers_controller.rb', line 310</span>

<span class='kw'>def</span> <span class='id identifier rubyid_create'>create</span>
	<span class='ivar'>@teacher</span> <span class='op'>=</span> <span class='const'>Teacher</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:teacher</span><span class='rbracket'>]</span><span class='rparen'>)</span>
	<span class='ivar'>@teacher</span><span class='period'>.</span><span class='id identifier rubyid_assets'>assets</span><span class='period'>.</span><span class='id identifier rubyid_build'>build</span>

	<span class='id identifier rubyid_respond_to'>respond_to</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_format'>format</span><span class='op'>|</span>
		<span class='kw'>if</span> <span class='ivar'>@teacher</span><span class='period'>.</span><span class='id identifier rubyid_save'>save</span>
			<span class='id identifier rubyid_format'>format</span><span class='period'>.</span><span class='id identifier rubyid_html'>html</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_redirect_to'>redirect_to</span><span class='lparen'>(</span><span class='ivar'>@teacher</span><span class='comma'>,</span> <span class='symbol'>:notice</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>Teacher was successfully created.</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span> <span class='rbrace'>}</span>
			<span class='id identifier rubyid_format'>format</span><span class='period'>.</span><span class='id identifier rubyid_json'>json</span>  <span class='lbrace'>{</span> <span class='id identifier rubyid_render'>render</span> <span class='symbol'>:json</span> <span class='op'>=&gt;</span> <span class='ivar'>@teacher</span><span class='comma'>,</span> <span class='symbol'>:status</span> <span class='op'>=&gt;</span> <span class='symbol'>:created</span><span class='comma'>,</span> <span class='symbol'>:location</span> <span class='op'>=&gt;</span> <span class='ivar'>@teacher</span> <span class='rbrace'>}</span>
		<span class='kw'>else</span>
			<span class='id identifier rubyid_format'>format</span><span class='period'>.</span><span class='id identifier rubyid_html'>html</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_render'>render</span> <span class='symbol'>:action</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>new</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span>
			<span class='id identifier rubyid_format'>format</span><span class='period'>.</span><span class='id identifier rubyid_json'>json</span>  <span class='lbrace'>{</span> <span class='id identifier rubyid_render'>render</span> <span class='symbol'>:json</span> <span class='op'>=&gt;</span> <span class='ivar'>@teacher</span><span class='period'>.</span><span class='id identifier rubyid_errors'>errors</span><span class='comma'>,</span> <span class='symbol'>:status</span> <span class='op'>=&gt;</span> <span class='symbol'>:unprocessable_entity</span> <span class='rbrace'>}</span>
		<span class='kw'>end</span>
	<span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="create_profile-instance_method">
  
    - (<tt>Object</tt>) <strong>create_profile</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


269
270
271
272
273
274
275
276
277
278
279
280</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/controllers/teachers_controller.rb', line 269</span>

<span class='kw'>def</span> <span class='id identifier rubyid_create_profile'>create_profile</span>
	<span class='ivar'>@teacher</span> <span class='op'>=</span> <span class='const'>Teacher</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_user'>current_user</span><span class='period'>.</span><span class='id identifier rubyid_teacher'>teacher</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='rparen'>)</span>

	<span class='id identifier rubyid_respond_to'>respond_to</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_format'>format</span><span class='op'>|</span>
		<span class='kw'>if</span> <span class='ivar'>@teacher</span><span class='period'>.</span><span class='id identifier rubyid_url?'>url?</span>
			<span class='id identifier rubyid_format'>format</span><span class='period'>.</span><span class='id identifier rubyid_html'>html</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_redirect_to'>redirect_to</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>/</span><span class='tstring_end'>'</span></span><span class='op'>+</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_user'>current_user</span><span class='period'>.</span><span class='id identifier rubyid_teacher'>teacher</span><span class='period'>.</span><span class='id identifier rubyid_url'>url</span> <span class='rbrace'>}</span>
		<span class='kw'>else</span>
			<span class='id identifier rubyid_format'>format</span><span class='period'>.</span><span class='id identifier rubyid_html'>html</span> <span class='comment'># show.html.erb
</span>			<span class='id identifier rubyid_format'>format</span><span class='period'>.</span><span class='id identifier rubyid_json'>json</span>  <span class='lbrace'>{</span> <span class='id identifier rubyid_render'>render</span> <span class='symbol'>:json</span> <span class='op'>=&gt;</span> <span class='ivar'>@teacher</span> <span class='rbrace'>}</span>
		<span class='kw'>end</span>
	<span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="edit-instance_method">
  
    - (<tt>Object</tt>) <strong>edit</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>GET /teachers/1/edit</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


294
295
296
297
298
299
300
301
302
303
304
305
306</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/controllers/teachers_controller.rb', line 294</span>

<span class='kw'>def</span> <span class='id identifier rubyid_edit'>edit</span>
	<span class='kw'>if</span> <span class='const'>User</span><span class='period'>.</span><span class='id identifier rubyid_current'>current</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>||</span> <span class='const'>User</span><span class='period'>.</span><span class='id identifier rubyid_current'>current</span><span class='period'>.</span><span class='id identifier rubyid_teacher'>teacher</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
		<span class='kw'>return</span> <span class='id identifier rubyid_render'>render</span> <span class='symbol'>:json</span> <span class='op'>=&gt;</span> <span class='lbrace'>{</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>message</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Nothing</span><span class='tstring_end'>&quot;</span></span><span class='rbrace'>}</span>
	<span class='kw'>end</span>

	<span class='comment'># Get the current teacher
</span>	<span class='ivar'>@teacher</span> <span class='op'>=</span> <span class='const'>User</span><span class='period'>.</span><span class='id identifier rubyid_current'>current</span><span class='period'>.</span><span class='id identifier rubyid_teacher'>teacher</span>

	<span class='comment'># Get the teachers skills
</span>	<span class='ivar'>@skills</span> <span class='op'>=</span> <span class='ivar'>@teacher</span><span class='period'>.</span><span class='id identifier rubyid_skills'>skills</span>
	<span class='comment'># Get the teachers last video
</span>	<span class='ivar'>@video</span> <span class='op'>=</span> <span class='ivar'>@teacher</span><span class='period'>.</span><span class='id identifier rubyid_videos'>videos</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="edit_education-instance_method">
  
    - (<tt>Object</tt>) <strong>edit_education</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


152
153
154
155
156
157
158</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/controllers/teachers_controller.rb', line 152</span>

<span class='kw'>def</span> <span class='id identifier rubyid_edit_education'>edit_education</span>
	<span class='ivar'>@education</span> <span class='op'>=</span> <span class='const'>Education</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:id</span><span class='rbracket'>]</span><span class='rparen'>)</span>
	
	<span class='id identifier rubyid_respond_to'>respond_to</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_format'>format</span><span class='op'>|</span>
		<span class='id identifier rubyid_format'>format</span><span class='period'>.</span><span class='id identifier rubyid_html'>html</span>
	<span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="edit_experience-instance_method">
  
    - (<tt>Object</tt>) <strong>edit_experience</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


199
200
201
202
203
204
205</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/controllers/teachers_controller.rb', line 199</span>

<span class='kw'>def</span> <span class='id identifier rubyid_edit_experience'>edit_experience</span>
	<span class='ivar'>@experience</span> <span class='op'>=</span> <span class='const'>Experience</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:id</span><span class='rbracket'>]</span><span class='rparen'>)</span>
	
	<span class='id identifier rubyid_respond_to'>respond_to</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_format'>format</span><span class='op'>|</span>
		<span class='id identifier rubyid_format'>format</span><span class='period'>.</span><span class='id identifier rubyid_html'>html</span>
	<span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="edit_skills-instance_method">
  
    - (<tt>Object</tt>) <strong>edit_skills</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


671
672
673
674
675
676
677
678
679
680
681
682
683
684
685
686
687
688
689
690
691
692
693
694
695
696
697
698
699
700
701
702
703
704</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/controllers/teachers_controller.rb', line 671</span>

<span class='kw'>def</span> <span class='id identifier rubyid_edit_skills'>edit_skills</span>
	
	<span class='comment'># Detect post variables
</span>	<span class='kw'>if</span> <span class='id identifier rubyid_request'>request</span><span class='period'>.</span><span class='id identifier rubyid_post?'>post?</span>

		<span class='comment'># Load the teach and update
</span>		<span class='ivar'>@teacher</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_user'>current_user</span><span class='period'>.</span><span class='id identifier rubyid_teacher'>teacher</span>
		<span class='ivar'>@teacher</span><span class='period'>.</span><span class='id identifier rubyid_user'>user</span><span class='period'>.</span><span class='id identifier rubyid_skills'>skills</span><span class='period'>.</span><span class='id identifier rubyid_delete_all'>delete_all</span>
		
		<span class='comment'># Install the skills
</span>		<span class='id identifier rubyid_skills'>skills</span> <span class='op'>=</span> <span class='const'>Skill</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='symbol'>:id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:skills</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>,</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
		<span class='id identifier rubyid_skills'>skills</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_skill'>skill</span><span class='op'>|</span>
			<span class='const'>SkillClaim</span><span class='period'>.</span><span class='id identifier rubyid_create'>create</span><span class='lparen'>(</span><span class='symbol'>:user_id</span> <span class='op'>=&gt;</span> <span class='ivar'>@teacher</span><span class='period'>.</span><span class='id identifier rubyid_user'>user</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='comma'>,</span> <span class='symbol'>:skill_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_skill'>skill</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='comma'>,</span> <span class='symbol'>:skill_group_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_skill'>skill</span><span class='period'>.</span><span class='id identifier rubyid_skill_group_id'>skill_group_id</span><span class='rparen'>)</span>
		<span class='kw'>end</span>

		<span class='comment'>#dump skills
</span>		<span class='ivar'>@teacher</span><span class='period'>.</span><span class='id identifier rubyid_skills'>skills</span> <span class='op'>=</span> <span class='id identifier rubyid_skills'>skills</span>
		
		<span class='comment'># Attempt to save the user
</span>		<span class='kw'>if</span> <span class='ivar'>@teacher</span><span class='period'>.</span><span class='id identifier rubyid_save'>save</span>

			<span class='comment'># Notice and redirect
</span>			<span class='id identifier rubyid_session'>session</span><span class='lbracket'>[</span><span class='symbol'>:wizard</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='kw'>true</span>
			<span class='id identifier rubyid_flash'>flash</span><span class='lbracket'>[</span><span class='symbol'>:notice</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Skills Updated</span><span class='tstring_end'>&quot;</span></span>
		<span class='kw'>else</span>

			<span class='comment'># If the user save failed then notice and redirect
</span>			<span class='id identifier rubyid_flash'>flash</span><span class='lbracket'>[</span><span class='symbol'>:notice</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='ivar'>@teacher</span><span class='period'>.</span><span class='id identifier rubyid_errors'>errors</span><span class='period'>.</span><span class='id identifier rubyid_full_messages'>full_messages</span><span class='period'>.</span><span class='id identifier rubyid_to_sentence'>to_sentence</span>
		<span class='kw'>end</span>
	<span class='kw'>end</span>

	<span class='comment'># Get a list of existing skills
</span>	<span class='ivar'>@existing_skills</span> <span class='op'>=</span> <span class='id identifier rubyid_teacher_path'>teacher_path</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_user'>current_user</span><span class='period'>.</span><span class='id identifier rubyid_teacher'>teacher</span><span class='rparen'>)</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>/skills</span><span class='tstring_end'>'</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="education-instance_method">
  
    - (<tt>Object</tt>) <strong>education</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Profile Editing</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>ActiveRecord::RecordNotFound</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


138
139
140
141</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/controllers/teachers_controller.rb', line 138</span>

<span class='kw'>def</span> <span class='id identifier rubyid_education'>education</span>
	<span class='ivar'>@teacher</span> <span class='op'>=</span> <span class='const'>Teacher</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_user'>current_user</span><span class='period'>.</span><span class='id identifier rubyid_teacher'>teacher</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='rparen'>)</span>
	<span class='id identifier rubyid_raise'>raise</span> <span class='const'>ActiveRecord</span><span class='op'>::</span><span class='const'>RecordNotFound</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Teacher not found.</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='ivar'>@teacher</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="experience-instance_method">
  
    - (<tt>Object</tt>) <strong>experience</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>ActiveRecord::RecordNotFound</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


185
186
187
188</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/controllers/teachers_controller.rb', line 185</span>

<span class='kw'>def</span> <span class='id identifier rubyid_experience'>experience</span>
	<span class='ivar'>@teacher</span> <span class='op'>=</span> <span class='const'>Teacher</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_user'>current_user</span><span class='period'>.</span><span class='id identifier rubyid_teacher'>teacher</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='rparen'>)</span>
	<span class='id identifier rubyid_raise'>raise</span> <span class='const'>ActiveRecord</span><span class='op'>::</span><span class='const'>RecordNotFound</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Teacher not found.</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='ivar'>@teacher</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="favorites-instance_method">
  
    - (<tt>Object</tt>) <strong>favorites</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


556
557
558</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/controllers/teachers_controller.rb', line 556</span>

<span class='kw'>def</span> <span class='id identifier rubyid_favorites'>favorites</span>
	<span class='ivar'>@pins</span> <span class='op'>=</span> <span class='const'>Pin</span><span class='period'>.</span><span class='id identifier rubyid_paginate'>paginate</span><span class='lparen'>(</span><span class='symbol'>:page</span><span class='op'>=&gt;</span> <span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:page</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='symbol'>:conditions</span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>user_id = ?</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_user'>current_user</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='rbracket'>]</span> <span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="feature_video-instance_method">
  
    - (<tt>Object</tt>) <strong>feature_video</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


711
712
713
714</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/controllers/teachers_controller.rb', line 711</span>

<span class='kw'>def</span> <span class='id identifier rubyid_feature_video'>feature_video</span>
	<span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_user'>current_user</span><span class='period'>.</span><span class='id identifier rubyid_teacher'>teacher</span><span class='period'>.</span><span class='id identifier rubyid_update_attribute'>update_attribute</span><span class='lparen'>(</span><span class='symbol'>:video_id</span><span class='comma'>,</span> <span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:id</span><span class='rbracket'>]</span><span class='rparen'>)</span>
	<span class='id identifier rubyid_redirect_to'>redirect_to</span> <span class='symbol'>:back</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="guest_entry-instance_method">
  
    - (<tt>Object</tt>) <strong>guest_entry</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Guest pass</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


129
130
131
132
133
134</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/controllers/teachers_controller.rb', line 129</span>

<span class='kw'>def</span> <span class='id identifier rubyid_guest_entry'>guest_entry</span>
	<span class='id identifier rubyid_guest_pass'>guest_pass</span> <span class='op'>=</span> <span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:guest_pass</span><span class='rbracket'>]</span>
	
	<span class='ivar'>@teacher</span> <span class='op'>=</span> <span class='const'>Teacher</span><span class='period'>.</span><span class='id identifier rubyid_find_by_guest_code'>find_by_guest_code</span><span class='lparen'>(</span><span class='id identifier rubyid_guest_pass'>guest_pass</span><span class='rparen'>)</span>
	<span class='id identifier rubyid_redirect_to'>redirect_to</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>/profile/</span><span class='tstring_end'>'</span></span> <span class='op'>+</span> <span class='ivar'>@teacher</span><span class='period'>.</span><span class='id identifier rubyid_url'>url</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>/</span><span class='tstring_end'>'</span></span> <span class='op'>+</span> <span class='id identifier rubyid_guest_pass'>guest_pass</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="linkedinprofile-instance_method">
  
    - (<tt>Object</tt>) <strong>linkedinprofile</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


440
441
442
443
444
445
446
447
448
449
450
451
452
453</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/controllers/teachers_controller.rb', line 440</span>

<span class='kw'>def</span> <span class='id identifier rubyid_linkedinprofile'>linkedinprofile</span>
	<span class='kw'>if</span> <span class='id identifier rubyid_request'>request</span><span class='period'>.</span><span class='id identifier rubyid_post?'>post?</span>
		<span class='kw'>if</span> <span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:response</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>yes</span><span class='tstring_end'>'</span></span>
			<span class='id identifier rubyid_client'>client</span> <span class='op'>=</span> <span class='const'>LinkedIn</span><span class='op'>::</span><span class='const'>Client</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='const'>API_KEY</span><span class='comma'>,</span> <span class='const'>SECRET_KEY</span><span class='rparen'>)</span>
			<span class='comment'>#oauth_Callback=where linkedin will redirect back to
</span>			<span class='id identifier rubyid_request_token'>request_token</span> <span class='op'>=</span> <span class='id identifier rubyid_client'>client</span><span class='period'>.</span><span class='id identifier rubyid_request_token'>request_token</span><span class='lparen'>(</span><span class='symbol'>:oauth_callback</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_request'>request</span><span class='period'>.</span><span class='id identifier rubyid_host_with_port'>host_with_port</span><span class='rbrace'>}</span><span class='tstring_content'>/callback</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
			<span class='id identifier rubyid_session'>session</span><span class='lbracket'>[</span><span class='symbol'>:rtoken</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_request_token'>request_token</span><span class='period'>.</span><span class='id identifier rubyid_token'>token</span>
			<span class='id identifier rubyid_session'>session</span><span class='lbracket'>[</span><span class='symbol'>:rsecret</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_request_token'>request_token</span><span class='period'>.</span><span class='id identifier rubyid_secret'>secret</span>
			<span class='id identifier rubyid_redirect_to'>redirect_to</span> <span class='id identifier rubyid_client'>client</span><span class='period'>.</span><span class='id identifier rubyid_request_token'>request_token</span><span class='period'>.</span><span class='id identifier rubyid_authorize_url'>authorize_url</span>
		<span class='kw'>elsif</span> <span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:response</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>no</span><span class='tstring_end'>'</span></span>
			<span class='id identifier rubyid_redirect_to'>redirect_to</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>/profile/</span><span class='tstring_end'>'</span></span><span class='op'>+</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_user'>current_user</span><span class='period'>.</span><span class='id identifier rubyid_teacher'>teacher</span><span class='period'>.</span><span class='id identifier rubyid_url'>url</span>     
		<span class='kw'>end</span>
	<span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="new-instance_method">
  
    - (<tt>Object</tt>) <strong>new</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>GET /teachers/new GET /teachers/new.json</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


284
285
286
287
288
289
290
291</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/controllers/teachers_controller.rb', line 284</span>

<span class='kw'>def</span> <span class='id identifier rubyid_new'>new</span>
	<span class='ivar'>@teacher</span> <span class='op'>=</span> <span class='const'>Teacher</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>

	<span class='id identifier rubyid_respond_to'>respond_to</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_format'>format</span><span class='op'>|</span>
		<span class='id identifier rubyid_format'>format</span><span class='period'>.</span><span class='id identifier rubyid_html'>html</span> <span class='comment'># new.html.erb
</span>		<span class='id identifier rubyid_format'>format</span><span class='period'>.</span><span class='id identifier rubyid_json'>json</span>  <span class='lbrace'>{</span> <span class='id identifier rubyid_render'>render</span> <span class='symbol'>:json</span> <span class='op'>=&gt;</span> <span class='ivar'>@teacher</span> <span class='rbrace'>}</span>
	<span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="profile-instance_method">
  
    - (<tt>Object</tt>) <strong>profile</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>GET /teachers/1 GET /teachers/1.json</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>ActiveRecord::RecordNotFound</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/controllers/teachers_controller.rb', line 7</span>

<span class='kw'>def</span> <span class='id identifier rubyid_profile'>profile</span>

	<span class='comment'># If we got a url argument then load that user
</span>	<span class='kw'>unless</span> <span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:url</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>||</span> <span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:url</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
		<span class='ivar'>@teacher</span> <span class='op'>=</span> <span class='const'>Teacher</span><span class='period'>.</span><span class='id identifier rubyid_find_by_url'>find_by_url</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:url</span><span class='rbracket'>]</span><span class='rparen'>)</span>

	<span class='comment'># Otherwise load the currently logged in user
</span>	<span class='kw'>else</span><span class='semicolon'>;</span> <span class='kw'>unless</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_user'>current_user</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>||</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_user'>current_user</span><span class='period'>.</span><span class='id identifier rubyid_teacher'>teacher</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
			<span class='ivar'>@teacher</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_user'>current_user</span><span class='period'>.</span><span class='id identifier rubyid_teacher'>teacher</span>
	<span class='kw'>end</span><span class='semicolon'>;</span> <span class='kw'>end</span>

	<span class='comment'># Check if user is a guest
</span>	<span class='ivar'>@guest</span> <span class='op'>=</span> <span class='kw'>false</span><span class='semicolon'>;</span> <span class='kw'>unless</span> <span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:guest_pass</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>||</span> <span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:guest_pass</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
		<span class='ivar'>@guest</span> <span class='op'>=</span> <span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:guest_pass</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_strip'>strip</span> <span class='op'>==</span> <span class='ivar'>@teacher</span><span class='period'>.</span><span class='id identifier rubyid_guest_code'>guest_code</span>
	<span class='kw'>end</span>

	<span class='comment'># Check if user is connected to teacher or is self
</span>	<span class='ivar'>@self</span> <span class='op'>=</span> <span class='kw'>false</span><span class='semicolon'>;</span> <span class='ivar'>@connected</span> <span class='op'>=</span> <span class='kw'>false</span>
	<span class='kw'>if</span> <span class='op'>!</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_user'>current_user</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>&amp;&amp;</span> <span class='ivar'>@teacher</span> <span class='op'>==</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_user'>current_user</span><span class='period'>.</span><span class='id identifier rubyid_teacher'>teacher</span>
		<span class='ivar'>@connected</span> <span class='op'>=</span> <span class='kw'>true</span>
		<span class='ivar'>@self</span> <span class='op'>=</span> <span class='kw'>true</span>
	<span class='kw'>elsif</span> <span class='op'>!</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_user'>current_user</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>&amp;&amp;</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_user'>current_user</span><span class='period'>.</span><span class='id identifier rubyid_connections'>connections</span><span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:user_id</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='ivar'>@teacher</span><span class='period'>.</span><span class='id identifier rubyid_user_id'>user_id</span><span class='rparen'>)</span>
		<span class='ivar'>@connected</span> <span class='op'>=</span> <span class='kw'>true</span>
	<span class='kw'>end</span>

	<span class='comment'># If the teacher could not be found then raise an exception
</span>	<span class='id identifier rubyid_raise'>raise</span> <span class='const'>ActiveRecord</span><span class='op'>::</span><span class='const'>RecordNotFound</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Teacher not found.</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='ivar'>@teacher</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>

	<span class='comment'># Log that someone viewed this profile unless there is no teacher associated with the user or you are viewing your own profile
</span>	<span class='kw'>if</span> <span class='op'>!</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_user'>current_user</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_user'>current_user</span><span class='period'>.</span><span class='id identifier rubyid_teacher'>teacher</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>&amp;&amp;</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_user'>current_user</span><span class='period'>.</span><span class='id identifier rubyid_teacher'>teacher</span> <span class='op'>!=</span> <span class='ivar'>@teacher</span>
		<span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_log_analytic'>log_analytic</span><span class='lparen'>(</span><span class='symbol'>:view_teacher_profile</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Someone viewed a teacher profile</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='ivar'>@teacher</span><span class='rparen'>)</span>
	<span class='kw'>end</span>

	<span class='comment'># Load up an application
</span>	<span class='ivar'>@application</span> <span class='op'>=</span> <span class='kw'>nil</span>
	<span class='kw'>if</span> <span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:application</span><span class='rbracket'>]</span> <span class='op'>!=</span> <span class='kw'>nil</span>
		<span class='ivar'>@application</span> <span class='op'>=</span> <span class='const'>Application</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:application</span><span class='rbracket'>]</span><span class='rparen'>)</span>
		<span class='ivar'>@application</span> <span class='op'>=</span> <span class='kw'>nil</span> <span class='kw'>unless</span> <span class='ivar'>@application</span><span class='period'>.</span><span class='id identifier rubyid_belongs_to_me'>belongs_to_me</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_user'>current_user</span><span class='rparen'>)</span>
	<span class='kw'>end</span>
	
	
	<span class='comment'># If the there is currently a user logged in
</span>	<span class='kw'>if</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_user'>current_user</span> <span class='op'>!=</span> <span class='kw'>nil</span>
		<span class='ivar'>@pin</span> <span class='op'>=</span> <span class='const'>Pin</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='symbol'>:first</span><span class='comma'>,</span> <span class='symbol'>:conditions</span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>teacher_id = ? and user_id =?</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='ivar'>@teacher</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='comma'>,</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_user'>current_user</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='symbol'>:limit</span> <span class='op'>=&gt;</span> <span class='int'>1</span><span class='rparen'>)</span>
		<span class='ivar'>@star</span> <span class='op'>=</span> <span class='const'>Star</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='symbol'>:first</span><span class='comma'>,</span> <span class='symbol'>:conditions</span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>teacher_id = ? and voter_id = ?</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='ivar'>@teacher</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='comma'>,</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_user'>current_user</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='symbol'>:limit</span> <span class='op'>=&gt;</span> <span class='int'>1</span><span class='rparen'>)</span>
		<span class='ivar'>@connection</span> <span class='op'>=</span> <span class='const'>Connection</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='symbol'>:first</span><span class='comma'>,</span> <span class='symbol'>:conditions</span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>owned_by = ? and user_id = ?</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_user'>current_user</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='comma'>,</span> <span class='ivar'>@teacher</span><span class='period'>.</span><span class='id identifier rubyid_user'>user</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='rbracket'>]</span><span class='rparen'>)</span>
		<span class='ivar'>@pendingconnection</span> <span class='op'>=</span>  <span class='const'>Connection</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='symbol'>:first</span><span class='comma'>,</span> <span class='symbol'>:conditions</span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>owned_by = ? and user_id = ? and pending = true</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='ivar'>@teacher</span><span class='period'>.</span><span class='id identifier rubyid_user'>user</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='comma'>,</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_user'>current_user</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='rbracket'>]</span><span class='rparen'>)</span>
	<span class='kw'>end</span>

	<span class='comment'># Get a list of all the stars
</span>	<span class='ivar'>@stars</span> <span class='op'>=</span> <span class='const'>Star</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='symbol'>:all</span><span class='comma'>,</span> <span class='symbol'>:conditions</span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>teacher_id = ?</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='ivar'>@teacher</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='rbracket'>]</span><span class='rparen'>)</span>
	
	<span class='comment'># Load in viddler config
</span>	<span class='ivar'>@config</span> <span class='op'>=</span> <span class='const'>YAML</span><span class='op'>::</span><span class='id identifier rubyid_load'>load</span><span class='lparen'>(</span><span class='const'>ERB</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='const'>IO</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span><span class='lparen'>(</span><span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='const'>Rails</span><span class='period'>.</span><span class='id identifier rubyid_root'>root</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>config</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>viddler.yml</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='rparen'>)</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_result'>result</span><span class='rparen'>)</span><span class='lbracket'>[</span><span class='const'>Rails</span><span class='period'>.</span><span class='id identifier rubyid_env'>env</span><span class='rbracket'>]</span>
	
	<span class='comment'># Get the latest video the user posted
</span>	<span class='ivar'>@video</span> <span class='op'>=</span> <span class='ivar'>@teacher</span><span class='period'>.</span><span class='id identifier rubyid_video'>video</span>
	
	<span class='kw'>begin</span>
		<span class='kw'>if</span> <span class='ivar'>@video</span><span class='period'>.</span><span class='id identifier rubyid_encoded_state'>encoded_state</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>queued</span><span class='tstring_end'>'</span></span>
			<span class='const'>Zencoder</span><span class='period'>.</span><span class='id identifier rubyid_api_key'>api_key</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>ebbcf62dc3d33b40a9ac99e623328583</span><span class='tstring_end'>'</span></span>
			<span class='ivar'>@status</span> <span class='op'>=</span> <span class='const'>Zencoder</span><span class='op'>::</span><span class='const'>Job</span><span class='period'>.</span><span class='id identifier rubyid_progress'>progress</span><span class='lparen'>(</span><span class='ivar'>@video</span><span class='period'>.</span><span class='id identifier rubyid_job_id'>job_id</span><span class='rparen'>)</span>
			<span class='kw'>if</span> <span class='ivar'>@status</span><span class='period'>.</span><span class='id identifier rubyid_body'>body</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>outputs</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>state</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>finished</span><span class='tstring_end'>'</span></span>
				<span class='ivar'>@video</span><span class='period'>.</span><span class='id identifier rubyid_encoded_state'>encoded_state</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>finished</span><span class='tstring_end'>'</span></span>
				<span class='ivar'>@video</span><span class='period'>.</span><span class='id identifier rubyid_save'>save</span>
				<span class='ivar'>@embed_code</span> <span class='op'>=</span> <span class='ivar'>@teacher</span><span class='period'>.</span><span class='id identifier rubyid_vjs_embed_code'>vjs_embed_code</span><span class='lparen'>(</span><span class='ivar'>@video</span><span class='period'>.</span><span class='id identifier rubyid_output_url'>output_url</span><span class='rparen'>)</span>
			<span class='kw'>else</span>
				<span class='ivar'>@embed_code</span> <span class='op'>=</span> <span class='ivar'>@teacher</span><span class='period'>.</span><span class='id identifier rubyid_no_embed_code'>no_embed_code</span>
			<span class='kw'>end</span>
		<span class='kw'>else</span> 
			<span class='ivar'>@embed_code</span> <span class='op'>=</span> <span class='ivar'>@teacher</span><span class='period'>.</span><span class='id identifier rubyid_vjs_embed_code'>vjs_embed_code</span><span class='lparen'>(</span><span class='ivar'>@video</span><span class='period'>.</span><span class='id identifier rubyid_output_url'>output_url</span><span class='rparen'>)</span>
		<span class='kw'>end</span>
	<span class='kw'>rescue</span>
		<span class='ivar'>@embed_code</span> <span class='op'>=</span> <span class='ivar'>@teacher</span><span class='period'>.</span><span class='id identifier rubyid_no_embed_code'>no_embed_code</span>
	<span class='kw'>end</span>

	<span class='comment'># Generate Progress Values
</span>	<span class='kw'>if</span> <span class='op'>!</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_user'>current_user</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_user'>current_user</span><span class='period'>.</span><span class='id identifier rubyid_teacher'>teacher</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>&amp;&amp;</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_user'>current_user</span><span class='period'>.</span><span class='id identifier rubyid_teacher'>teacher</span> <span class='op'>==</span> <span class='ivar'>@teacher</span>
		<span class='ivar'>@progress</span> <span class='op'>=</span> <span class='int'>0</span>

		<span class='comment'># Image
</span>		<span class='ivar'>@progress</span> <span class='op'>+=</span> <span class='int'>10</span> <span class='kw'>if</span> <span class='ivar'>@teacher</span><span class='period'>.</span><span class='id identifier rubyid_user'>user</span><span class='period'>.</span><span class='id identifier rubyid_avatar?'>avatar?</span>

		<span class='comment'># Contact
</span>		<span class='ivar'>@progress</span> <span class='op'>+=</span> <span class='int'>10</span> <span class='kw'>if</span> <span class='ivar'>@teacher</span><span class='period'>.</span><span class='id identifier rubyid_user'>user</span><span class='period'>.</span><span class='id identifier rubyid_email?'>email?</span>
		<span class='ivar'>@progress</span> <span class='op'>+=</span> <span class='int'>10</span> <span class='kw'>if</span> <span class='ivar'>@teacher</span><span class='period'>.</span><span class='id identifier rubyid_phone'>phone</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span>

		<span class='comment'># Linkedin
</span>		<span class='ivar'>@progress</span> <span class='op'>+=</span> <span class='int'>10</span> <span class='kw'>if</span> <span class='ivar'>@teacher</span><span class='period'>.</span><span class='id identifier rubyid_linkedin?'>linkedin?</span> <span class='op'>&amp;&amp;</span> <span class='ivar'>@teacher</span><span class='period'>.</span><span class='id identifier rubyid_linkedin'>linkedin</span> <span class='op'>!=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://linkedin.com/</span><span class='tstring_end'>&quot;</span></span>

		<span class='comment'># Current
</span>		<span class='ivar'>@progress</span> <span class='op'>+=</span> <span class='int'>5</span> <span class='kw'>if</span> <span class='ivar'>@teacher</span><span class='period'>.</span><span class='id identifier rubyid_position'>position</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span>
		<span class='ivar'>@progress</span> <span class='op'>+=</span> <span class='int'>5</span> <span class='kw'>if</span> <span class='ivar'>@teacher</span><span class='period'>.</span><span class='id identifier rubyid_school'>school</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span>
		<span class='ivar'>@progress</span> <span class='op'>+=</span> <span class='int'>5</span> <span class='kw'>if</span> <span class='ivar'>@teacher</span><span class='period'>.</span><span class='id identifier rubyid_location'>location</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span>

		<span class='comment'># Seeking
</span>		<span class='ivar'>@progress</span> <span class='op'>+=</span> <span class='int'>5</span> <span class='kw'>if</span> <span class='ivar'>@teacher</span><span class='period'>.</span><span class='id identifier rubyid_seeking_subject'>seeking_subject</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span>
		<span class='ivar'>@progress</span> <span class='op'>+=</span> <span class='int'>5</span> <span class='kw'>if</span> <span class='ivar'>@teacher</span><span class='period'>.</span><span class='id identifier rubyid_seeking_grade'>seeking_grade</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span>
		<span class='ivar'>@progress</span> <span class='op'>+=</span> <span class='int'>5</span> <span class='kw'>if</span> <span class='ivar'>@teacher</span><span class='period'>.</span><span class='id identifier rubyid_seeking_location'>seeking_location</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span>

		<span class='comment'># Video
</span>		<span class='ivar'>@progress</span> <span class='op'>+=</span> <span class='int'>20</span> <span class='kw'>unless</span> <span class='ivar'>@video</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
	<span class='kw'>end</span>

	<span class='comment'># Filter Upcoming Events
</span>	<span class='ivar'>@events</span> <span class='op'>=</span> <span class='ivar'>@teacher</span><span class='period'>.</span><span class='id identifier rubyid_user'>user</span><span class='period'>.</span><span class='id identifier rubyid_rsvp'>rsvp</span><span class='period'>.</span><span class='id identifier rubyid_select'>select</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span>
		<span class='lparen'>(</span><span class='id identifier rubyid_x'>x</span><span class='period'>.</span><span class='id identifier rubyid_end_time'>end_time</span><span class='period'>.</span><span class='id identifier rubyid_future?'>future?</span> <span class='op'>||</span> <span class='id identifier rubyid_x'>x</span><span class='period'>.</span><span class='id identifier rubyid_end_time'>end_time</span><span class='period'>.</span><span class='id identifier rubyid_today?'>today?</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_x'>x</span><span class='period'>.</span><span class='id identifier rubyid_published'>published</span>
	<span class='kw'>end</span>

	<span class='kw'>if</span> <span class='ivar'>@teacher</span> <span class='op'>==</span> <span class='kw'>nil</span>
		<span class='id identifier rubyid_redirect_to'>redirect_to</span> <span class='symbol'>:root</span>
		<span class='id identifier rubyid_flash'>flash</span><span class='lbracket'>[</span><span class='symbol'>:alert</span><span class='rbracket'>]</span>  <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Not found</span><span class='tstring_end'>&quot;</span></span>
	<span class='kw'>else</span> 
		<span class='id identifier rubyid_respond_to'>respond_to</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_format'>format</span><span class='op'>|</span>
			<span class='id identifier rubyid_format'>format</span><span class='period'>.</span><span class='id identifier rubyid_html'>html</span> <span class='comment'># profile.html.erb
</span>			<span class='id identifier rubyid_format'>format</span><span class='period'>.</span><span class='id identifier rubyid_json'>json</span>  <span class='lbrace'>{</span> <span class='id identifier rubyid_render'>render</span> <span class='symbol'>:json</span> <span class='op'>=&gt;</span> <span class='ivar'>@teacher</span> <span class='rbrace'>}</span> <span class='comment'># profile.json
</span>		<span class='kw'>end</span>
	<span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="profileattachments-instance_method">
  
    - (<tt>Object</tt>) <strong>profileattachments</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


572
573
574</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/controllers/teachers_controller.rb', line 572</span>

<span class='kw'>def</span> <span class='id identifier rubyid_profileattachments'>profileattachments</span>
  <span class='ivar'>@teacher</span> <span class='op'>=</span> <span class='const'>User</span><span class='period'>.</span><span class='id identifier rubyid_current'>current</span><span class='period'>.</span><span class='id identifier rubyid_teacher'>teacher</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="purge-instance_method">
  
    - (<tt>Object</tt>) <strong>purge</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


370
371
372
373
374
375
376
377
378
379
380
381</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/controllers/teachers_controller.rb', line 370</span>

<span class='kw'>def</span> <span class='id identifier rubyid_purge'>purge</span>
	<span class='ivar'>@teacher</span> <span class='op'>=</span> <span class='const'>Teacher</span><span class='period'>.</span><span class='id identifier rubyid_find_by_id'>find_by_id</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_user'>current_user</span><span class='period'>.</span><span class='id identifier rubyid_teacher'>teacher</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='rparen'>)</span>
	<span class='ivar'>@asset</span> <span class='op'>=</span> <span class='const'>Asset</span><span class='period'>.</span><span class='id identifier rubyid_find_by_id'>find_by_id</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:id</span><span class='rbracket'>]</span><span class='rparen'>)</span>
	<span class='kw'>if</span> <span class='ivar'>@asset</span><span class='period'>.</span><span class='id identifier rubyid_teacher_id'>teacher_id</span> <span class='op'>==</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_user'>current_user</span><span class='period'>.</span><span class='id identifier rubyid_teacher'>teacher</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span>
		<span class='ivar'>@asset</span><span class='period'>.</span><span class='id identifier rubyid_destroy'>destroy</span>
	
		<span class='id identifier rubyid_respond_to'>respond_to</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_format'>format</span><span class='op'>|</span>
		 <span class='id identifier rubyid_format'>format</span><span class='period'>.</span><span class='id identifier rubyid_html'>html</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_redirect_to'>redirect_to</span><span class='lparen'>(</span><span class='symbol'>:back</span><span class='comma'>,</span> <span class='symbol'>:notice</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>Attachment removed.</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span> <span class='rbrace'>}</span>
		 <span class='id identifier rubyid_format'>format</span><span class='period'>.</span><span class='id identifier rubyid_xml'>xml</span>  <span class='lbrace'>{</span> <span class='id identifier rubyid_head'>head</span> <span class='symbol'>:ok</span> <span class='rbrace'>}</span>
		<span class='kw'>end</span>
	<span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="remove_education-instance_method">
  
    - (<tt>Object</tt>) <strong>remove_education</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


143
144
145
146
147
148
149
150</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/controllers/teachers_controller.rb', line 143</span>

<span class='kw'>def</span> <span class='id identifier rubyid_remove_education'>remove_education</span>
	<span class='ivar'>@education</span> <span class='op'>=</span> <span class='const'>Education</span><span class='period'>.</span><span class='id identifier rubyid_find_by_id'>find_by_id</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:id</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='symbol'>:limit</span> <span class='op'>=&gt;</span> <span class='int'>1</span><span class='rparen'>)</span>
	<span class='ivar'>@education</span><span class='period'>.</span><span class='id identifier rubyid_destroy'>destroy</span>
	
	<span class='id identifier rubyid_respond_to'>respond_to</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_format'>format</span><span class='op'>|</span>
		<span class='id identifier rubyid_format'>format</span><span class='period'>.</span><span class='id identifier rubyid_html'>html</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_redirect_to'>redirect_to</span> <span class='symbol'>:education</span> <span class='rbrace'>}</span>
	<span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="remove_experience-instance_method">
  
    - (<tt>Object</tt>) <strong>remove_experience</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


190
191
192
193
194
195
196
197</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/controllers/teachers_controller.rb', line 190</span>

<span class='kw'>def</span> <span class='id identifier rubyid_remove_experience'>remove_experience</span>
	<span class='ivar'>@experience</span> <span class='op'>=</span> <span class='const'>Experience</span><span class='period'>.</span><span class='id identifier rubyid_find_by_id'>find_by_id</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:id</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='symbol'>:limit</span> <span class='op'>=&gt;</span> <span class='int'>1</span><span class='rparen'>)</span>
	<span class='ivar'>@experience</span><span class='period'>.</span><span class='id identifier rubyid_destroy'>destroy</span>
	
	<span class='id identifier rubyid_respond_to'>respond_to</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_format'>format</span><span class='op'>|</span>
		<span class='id identifier rubyid_format'>format</span><span class='period'>.</span><span class='id identifier rubyid_html'>html</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_redirect_to'>redirect_to</span> <span class='symbol'>:experience</span> <span class='rbrace'>}</span>
	<span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="remove_pin-instance_method">
  
    - (<tt>Object</tt>) <strong>remove_pin</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


406
407
408
409
410
411
412
413</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/controllers/teachers_controller.rb', line 406</span>

<span class='kw'>def</span> <span class='id identifier rubyid_remove_pin'>remove_pin</span>
	<span class='ivar'>@pin</span> <span class='op'>=</span> <span class='const'>Pin</span><span class='period'>.</span><span class='id identifier rubyid_find_by_teacher_id'>find_by_teacher_id</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:teacher_id</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='symbol'>:limit</span> <span class='op'>=&gt;</span> <span class='int'>1</span><span class='rparen'>)</span>
	<span class='ivar'>@pin</span><span class='period'>.</span><span class='id identifier rubyid_destroy'>destroy</span>
	
	<span class='id identifier rubyid_respond_to'>respond_to</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_format'>format</span><span class='op'>|</span>
		<span class='id identifier rubyid_format'>format</span><span class='period'>.</span><span class='id identifier rubyid_html'>html</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_redirect_to'>redirect_to</span> <span class='symbol'>:root</span> <span class='rbrace'>}</span>
	<span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="remove_star-instance_method">
  
    - (<tt>Object</tt>) <strong>remove_star</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


429
430
431
432
433
434
435
436
437
438</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/controllers/teachers_controller.rb', line 429</span>

<span class='kw'>def</span> <span class='id identifier rubyid_remove_star'>remove_star</span>
	<span class='ivar'>@star</span> <span class='op'>=</span> <span class='const'>Star</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='symbol'>:first</span><span class='comma'>,</span> <span class='symbol'>:conditions</span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>teacher_id = ? and voter_id = ?</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:teacher_id</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_user'>current_user</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='symbol'>:limit</span> <span class='op'>=&gt;</span> <span class='int'>1</span><span class='rparen'>)</span>
	<span class='ivar'>@star</span><span class='period'>.</span><span class='id identifier rubyid_destroy'>destroy</span>
	
	<span class='ivar'>@teacher</span> <span class='op'>=</span> <span class='const'>Teacher</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:teacher_id</span><span class='rbracket'>]</span><span class='rparen'>)</span>
	
	<span class='id identifier rubyid_respond_to'>respond_to</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_format'>format</span><span class='op'>|</span>
		<span class='id identifier rubyid_format'>format</span><span class='period'>.</span><span class='id identifier rubyid_html'>html</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_redirect_to'>redirect_to</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/</span><span class='tstring_end'>&quot;</span></span><span class='op'>+</span><span class='ivar'>@teacher</span><span class='period'>.</span><span class='id identifier rubyid_url'>url</span> <span class='rbrace'>}</span>
	<span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="request_vouch-instance_method">
  
    - (<tt>Object</tt>) <strong>request_vouch</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


706
707
708
709</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/controllers/teachers_controller.rb', line 706</span>

<span class='kw'>def</span> <span class='id identifier rubyid_request_vouch'>request_vouch</span>
	<span class='ivar'>@teacher</span> <span class='op'>=</span> <span class='const'>User</span><span class='period'>.</span><span class='id identifier rubyid_current'>current</span><span class='period'>.</span><span class='id identifier rubyid_teacher'>teacher</span>
	<span class='ivar'>@vouch</span> <span class='op'>=</span> <span class='const'>Vouch</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="show-instance_method">
  
    - (<tt>Object</tt>) <strong>show</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>GET /teachers/1 GET /teachers/1.json</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


257
258
259
260
261
262
263
264
265
266
267</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/controllers/teachers_controller.rb', line 257</span>

<span class='kw'>def</span> <span class='id identifier rubyid_show'>show</span>
	<span class='ivar'>@teacher</span> <span class='op'>=</span> <span class='const'>Teacher</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:id</span><span class='rbracket'>]</span><span class='rparen'>)</span>

	<span class='id identifier rubyid_respond_to'>respond_to</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_format'>format</span><span class='op'>|</span>
		<span class='kw'>if</span> <span class='ivar'>@teacher</span><span class='period'>.</span><span class='id identifier rubyid_url?'>url?</span>
			<span class='id identifier rubyid_format'>format</span><span class='period'>.</span><span class='id identifier rubyid_html'>html</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_redirect_to'>redirect_to</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>/profile/</span><span class='tstring_end'>'</span></span> <span class='op'>+</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_user'>current_user</span><span class='period'>.</span><span class='id identifier rubyid_teacher'>teacher</span><span class='period'>.</span><span class='id identifier rubyid_url'>url</span> <span class='rbrace'>}</span>
		<span class='kw'>else</span>
			<span class='id identifier rubyid_format'>format</span><span class='period'>.</span><span class='id identifier rubyid_html'>html</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_redirect_to'>redirect_to</span> <span class='symbol'>:create_profile</span> <span class='rbrace'>}</span>
		<span class='kw'>end</span>
	<span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="skills-instance_method">
  
    - (<tt>Object</tt>) <strong>skills</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


658
659
660
661
662
663
664
665
666
667
668
669</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/controllers/teachers_controller.rb', line 658</span>

<span class='kw'>def</span> <span class='id identifier rubyid_skills'>skills</span>
	<span class='ivar'>@teacher</span> <span class='op'>=</span> <span class='const'>Teacher</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:id</span><span class='rbracket'>]</span><span class='rparen'>)</span>
	<span class='ivar'>@skills</span> <span class='op'>=</span> <span class='ivar'>@teacher</span><span class='period'>.</span><span class='id identifier rubyid_skills'>skills</span>

	<span class='ivar'>@skills</span><span class='period'>.</span><span class='id identifier rubyid_collect!'>collect!</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_v'>v</span><span class='op'>|</span>
		<span class='id identifier rubyid_data'>data</span> <span class='op'>=</span> <span class='id identifier rubyid_v'>v</span><span class='period'>.</span><span class='id identifier rubyid_serializable_hash'>serializable_hash</span>
		<span class='id identifier rubyid_data'>data</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>skill_group</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_v'>v</span><span class='period'>.</span><span class='id identifier rubyid_skill_group'>skill_group</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span>
		<span class='id identifier rubyid_v'>v</span> <span class='op'>=</span> <span class='id identifier rubyid_data'>data</span>
	<span class='kw'>end</span>

	<span class='id identifier rubyid_render'>render</span> <span class='symbol'>:json</span> <span class='op'>=&gt;</span> <span class='ivar'>@skills</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="stats-instance_method">
  
    - (<tt>Object</tt>) <strong>stats</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Profile stats</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


577
578
579
580
581
582
583
584
585
586
587
588
589
590
591
592
593
594
595
596
597
598
599
600
601
602
603
604
605
606
607
608
609
610
611
612
613
614
615
616
617
618
619
620
621
622
623
624
625
626
627
628
629
630
631
632
633
634
635
636
637
638
639
640
641
642
643
644
645
646
647
648
649
650
651
652
653
654
655
656</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/controllers/teachers_controller.rb', line 577</span>

<span class='kw'>def</span> <span class='id identifier rubyid_stats'>stats</span>
	
	<span class='ivar'>@pendingcount</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_user'>current_user</span><span class='period'>.</span><span class='id identifier rubyid_pending_connections'>pending_connections</span><span class='period'>.</span><span class='id identifier rubyid_count'>count</span>
	<span class='comment'># Get the teacher id of the currently logged in user
</span>	<span class='ivar'>@teacher</span> <span class='op'>=</span> <span class='const'>Teacher</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_user'>current_user</span><span class='period'>.</span><span class='id identifier rubyid_teacher'>teacher</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='rparen'>)</span>

	<span class='comment'># Get a listing of who has viewed this teacher (IN ALL TIME)
</span>	<span class='ivar'>@viewed</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_get_analytics'>get_analytics</span><span class='lparen'>(</span><span class='symbol'>:view_teacher_profile</span><span class='comma'>,</span> <span class='ivar'>@teacher</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='kw'>true</span><span class='rparen'>)</span>

	<span class='comment'># Get the dates to run the query by
</span>	<span class='id identifier rubyid_tomorrow'>tomorrow</span> <span class='op'>=</span> <span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_now'>now</span><span class='period'>.</span><span class='id identifier rubyid_tomorrow'>tomorrow</span>
	<span class='id identifier rubyid_lastweek'>lastweek</span> <span class='op'>=</span> <span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_now'>now</span><span class='period'>.</span><span class='id identifier rubyid_last_week'>last_week</span>

	<span class='comment'># Create an empty private hash
</span>	<span class='id identifier rubyid_data'>data</span> <span class='op'>=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>

	<span class='comment'># Get a listing of who has viewed this teachers profile use a block to further contrain the query
</span>	<span class='id identifier rubyid_data'>data</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>profile_last_week</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_get_analytics'>get_analytics</span><span class='lparen'>(</span><span class='symbol'>:view_teacher_profile</span><span class='comma'>,</span> <span class='ivar'>@teacher</span><span class='comma'>,</span> <span class='id identifier rubyid_lastweek'>lastweek</span><span class='period'>.</span><span class='id identifier rubyid_utc'>utc</span><span class='period'>.</span><span class='id identifier rubyid_strftime'>strftime</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%Y-%m-%d</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_tomorrow'>tomorrow</span><span class='period'>.</span><span class='id identifier rubyid_utc'>utc</span><span class='period'>.</span><span class='id identifier rubyid_strftime'>strftime</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%Y-%m-%d</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='kw'>false</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='op'>|</span>
		<span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_select'>select</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>count(date(`created_at`)) as `views_per_day`, unix_timestamp(date(`created_at`)) as `view_on_day`</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
		<span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_group'>group</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>date(`created_at`)</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
	<span class='kw'>end</span>

	<span class='comment'># Get a listing of who has viewed this teachers card use a block to further contrain the query
</span>	<span class='id identifier rubyid_data'>data</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>card_last_week</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_get_analytics'>get_analytics</span><span class='lparen'>(</span><span class='symbol'>:view_teacher_card</span><span class='comma'>,</span> <span class='ivar'>@teacher</span><span class='comma'>,</span> <span class='id identifier rubyid_lastweek'>lastweek</span><span class='period'>.</span><span class='id identifier rubyid_utc'>utc</span><span class='period'>.</span><span class='id identifier rubyid_strftime'>strftime</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%Y-%m-%d</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_tomorrow'>tomorrow</span><span class='period'>.</span><span class='id identifier rubyid_utc'>utc</span><span class='period'>.</span><span class='id identifier rubyid_strftime'>strftime</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%Y-%m-%d</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='kw'>false</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='op'>|</span>
		<span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_select'>select</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>count(date(`created_at`)) as `views_per_day`, unix_timestamp(date(`created_at`)) as `view_on_day`</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
		<span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_group'>group</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>date(`created_at`)</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
	<span class='kw'>end</span>

	<span class='comment'># Create an empty public hash
</span>	<span class='ivar'>@data</span> <span class='op'>=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>

	<span class='comment'># Loop through the data to graph by
</span>	<span class='id identifier rubyid_data'>data</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='comma'>,</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span>

		<span class='comment'># Parse all the dates
</span>		<span class='id identifier rubyid_save_time'>save_time</span> <span class='op'>=</span> <span class='kw'>nil</span>
		<span class='id identifier rubyid_dates'>dates</span> <span class='op'>=</span> <span class='const'>Array</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>

		<span class='comment'># Loop through the actual query results
</span>		<span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span>
			<span class='id identifier rubyid_time'>time</span> <span class='op'>=</span> <span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_at'>at</span><span class='lparen'>(</span><span class='id identifier rubyid_x'>x</span><span class='period'>.</span><span class='id identifier rubyid_view_on_day'>view_on_day</span><span class='rparen'>)</span>

			<span class='comment'># If save time is nil ignore
</span>			<span class='kw'>unless</span> <span class='id identifier rubyid_save_time'>save_time</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
				<span class='id identifier rubyid_i'>i</span> <span class='op'>=</span> <span class='int'>1</span>

				<span class='comment'># Set the last time we had for adjusting
</span>				<span class='id identifier rubyid_adjust_time'>adjust_time</span> <span class='op'>=</span> <span class='id identifier rubyid_save_time'>save_time</span>

				<span class='comment'># Create empty days of zero if no days are logged
</span>				<span class='kw'>while</span> <span class='id identifier rubyid_i'>i</span> <span class='op'>&lt;</span> <span class='lparen'>(</span><span class='id identifier rubyid_time'>time</span><span class='period'>.</span><span class='id identifier rubyid_to_date'>to_date</span> <span class='op'>-</span> <span class='id identifier rubyid_save_time'>save_time</span><span class='period'>.</span><span class='id identifier rubyid_to_date'>to_date</span><span class='rparen'>)</span>

					<span class='comment'># Adjust the time forward to the next day
</span>					<span class='id identifier rubyid_adjust_time'>adjust_time</span> <span class='op'>=</span> <span class='id identifier rubyid_adjust_time'>adjust_time</span><span class='period'>.</span><span class='id identifier rubyid_tomorrow'>tomorrow</span>

					<span class='comment'># Get the right time in seconds (with the utc offset for the timezone)
</span>					<span class='id identifier rubyid_tmp'>tmp</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_adjust_time'>adjust_time</span><span class='period'>.</span><span class='id identifier rubyid_to_time'>to_time</span><span class='period'>.</span><span class='id identifier rubyid_localtime'>localtime</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span> <span class='op'>+</span> <span class='id identifier rubyid_adjust_time'>adjust_time</span><span class='period'>.</span><span class='id identifier rubyid_to_time'>to_time</span><span class='period'>.</span><span class='id identifier rubyid_localtime'>localtime</span><span class='period'>.</span><span class='id identifier rubyid_utc_offset'>utc_offset</span><span class='rparen'>)</span> <span class='op'>*</span> <span class='int'>1000</span>

					<span class='comment'># Add the date to the array of dates
</span>					<span class='id identifier rubyid_dates'>dates</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_tmp'>tmp</span><span class='rbrace'>}</span><span class='tstring_content'>, 0]</span><span class='tstring_end'>&quot;</span></span>

					<span class='comment'># Increase the pointer for the while llop
</span>					<span class='id identifier rubyid_i'>i</span> <span class='op'>+=</span> <span class='int'>1</span>
				<span class='kw'>end</span>
			<span class='kw'>end</span>

			<span class='comment'># Set save time for any more upcoming loops
</span>			<span class='id identifier rubyid_save_time'>save_time</span> <span class='op'>=</span> <span class='id identifier rubyid_time'>time</span>

			<span class='comment'># Get the right time in seconds of a hit (witht the utc offset for the timezone)
</span>			<span class='id identifier rubyid_view_on_day'>view_on_day</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_time'>time</span><span class='period'>.</span><span class='id identifier rubyid_localtime'>localtime</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span> <span class='op'>+</span> <span class='id identifier rubyid_time'>time</span><span class='period'>.</span><span class='id identifier rubyid_localtime'>localtime</span><span class='period'>.</span><span class='id identifier rubyid_utc_offset'>utc_offset</span><span class='rparen'>)</span> <span class='op'>*</span> <span class='int'>1000</span>

			<span class='comment'># Add the date to the array of dates
</span>			<span class='id identifier rubyid_dates'>dates</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_view_on_day'>view_on_day</span><span class='rbrace'>}</span><span class='tstring_content'>, </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_x'>x</span><span class='period'>.</span><span class='id identifier rubyid_views_per_day'>views_per_day</span><span class='rbrace'>}</span><span class='tstring_content'>]</span><span class='tstring_end'>&quot;</span></span>
		<span class='kw'>end</span>

		<span class='comment'># Join the data indo an output array
</span>		<span class='ivar'>@data</span><span class='lbracket'>[</span><span class='id identifier rubyid_k'>k</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_dates'>dates</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>,</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
	<span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="teacher_applications-instance_method">
  
    - (<tt>Object</tt>) <strong>teacher_applications</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


560
561
562
563
564
565</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/controllers/teachers_controller.rb', line 560</span>

<span class='kw'>def</span> <span class='id identifier rubyid_teacher_applications'>teacher_applications</span>
	<span class='ivar'>@featuredjobs</span> <span class='op'>=</span> <span class='const'>Job</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='symbol'>:all</span><span class='comma'>,</span> <span class='symbol'>:conditions</span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>active = ?</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='kw'>true</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='symbol'>:order</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>created_at DESC</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
	<span class='ivar'>@interviews</span> <span class='op'>=</span> <span class='const'>Interview</span><span class='period'>.</span><span class='id identifier rubyid_paginate'>paginate</span> <span class='symbol'>:conditions</span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>teacher_id = ?</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_user'>current_user</span><span class='period'>.</span><span class='id identifier rubyid_teacher'>teacher</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='symbol'>:order</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>created_at DESC</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='symbol'>:page</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:interview_page</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='symbol'>:per_page</span> <span class='op'>=&gt;</span> <span class='int'>5</span>
	<span class='ivar'>@applications</span> <span class='op'>=</span> <span class='const'>Application</span><span class='period'>.</span><span class='id identifier rubyid_paginate'>paginate</span> <span class='symbol'>:conditions</span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>teacher_id = ?</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_user'>current_user</span><span class='period'>.</span><span class='id identifier rubyid_teacher'>teacher</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='symbol'>:order</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>created_at DESC</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='symbol'>:page</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:application_page</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='symbol'>:per_page</span> <span class='op'>=&gt;</span> <span class='int'>5</span>
	<span class='ivar'>@pendingcount</span><span class='op'>=</span><span class='const'>Connection</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='symbol'>:all</span><span class='comma'>,</span> <span class='symbol'>:conditions</span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>user_id = ? AND pending = true</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_user'>current_user</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_count'>count</span>  
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="update-instance_method">
  
    - (<tt>Object</tt>) <strong>update</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>PUT /teachers/1 PUT /teachers/1.json</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/controllers/teachers_controller.rb', line 327</span>

<span class='kw'>def</span> <span class='id identifier rubyid_update'>update</span>
	<span class='comment'># Get the teacher
</span>	<span class='ivar'>@teacher</span> <span class='op'>=</span> <span class='const'>Teacher</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:id</span><span class='rbracket'>]</span><span class='rparen'>)</span>

	<span class='comment'># Flash an error if the user if not autorized
</span>	<span class='kw'>unless</span> <span class='ivar'>@teacher</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span> <span class='op'>==</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_user'>current_user</span><span class='period'>.</span><span class='id identifier rubyid_teacher'>teacher</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span>
		<span class='id identifier rubyid_flash'>flash</span><span class='lbracket'>[</span><span class='symbol'>:error</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Not authorized</span><span class='tstring_end'>&quot;</span></span>
		<span class='id identifier rubyid_redirect_to'>redirect_to</span> <span class='symbol'>:root</span>
	<span class='kw'>end</span>

	<span class='id identifier rubyid_respond_to'>respond_to</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_format'>format</span><span class='op'>|</span>
		<span class='kw'>if</span> <span class='ivar'>@teacher</span><span class='period'>.</span><span class='id identifier rubyid_update_attributes'>update_attributes</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:teacher</span><span class='rbracket'>]</span><span class='rparen'>)</span>

			<span class='comment'># Make a Whiteboard Post
</span>			<span class='const'>Whiteboard</span><span class='period'>.</span><span class='id identifier rubyid_createActivity'>createActivity</span><span class='lparen'>(</span><span class='symbol'>:profile_update</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>{user.teacher.profile_link} updated their profile.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>

			<span class='id identifier rubyid_format'>format</span><span class='period'>.</span><span class='id identifier rubyid_html'>html</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_redirect_to'>redirect_to</span><span class='lparen'>(</span><span class='ivar'>@teacher</span><span class='comma'>,</span> <span class='symbol'>:notice</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>Teacher was successfully updated.</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span> <span class='rbrace'>}</span>
			<span class='id identifier rubyid_format'>format</span><span class='period'>.</span><span class='id identifier rubyid_json'>json</span>  <span class='lbrace'>{</span> <span class='id identifier rubyid_head'>head</span> <span class='symbol'>:ok</span> <span class='rbrace'>}</span>
		<span class='kw'>else</span>
			<span class='id identifier rubyid_format'>format</span><span class='period'>.</span><span class='id identifier rubyid_html'>html</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_render'>render</span> <span class='symbol'>:action</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>edit</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span>
			<span class='id identifier rubyid_format'>format</span><span class='period'>.</span><span class='id identifier rubyid_json'>json</span>  <span class='lbrace'>{</span> <span class='id identifier rubyid_render'>render</span> <span class='symbol'>:json</span> <span class='op'>=&gt;</span> <span class='ivar'>@teacher</span><span class='period'>.</span><span class='id identifier rubyid_errors'>errors</span><span class='comma'>,</span> <span class='symbol'>:status</span> <span class='op'>=&gt;</span> <span class='symbol'>:unprocessable_entity</span> <span class='rbrace'>}</span>
		<span class='kw'>end</span>
	<span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="update_education-instance_method">
  
    - (<tt>Object</tt>) <strong>update_education</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


160
161
162
163
164
165
166
167
168
169
170
171</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/controllers/teachers_controller.rb', line 160</span>

<span class='kw'>def</span> <span class='id identifier rubyid_update_education'>update_education</span>
	<span class='ivar'>@teacher</span> <span class='op'>=</span> <span class='const'>Teacher</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_user'>current_user</span><span class='period'>.</span><span class='id identifier rubyid_teacher'>teacher</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='rparen'>)</span>
	<span class='ivar'>@teacher</span><span class='period'>.</span><span class='id identifier rubyid_educations'>educations</span><span class='period'>.</span><span class='id identifier rubyid_build'>build</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:education</span><span class='rbracket'>]</span><span class='rparen'>)</span>
	
	<span class='id identifier rubyid_respond_to'>respond_to</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_format'>format</span><span class='op'>|</span>
		<span class='kw'>if</span> <span class='ivar'>@teacher</span><span class='period'>.</span><span class='id identifier rubyid_save'>save</span>
			<span class='id identifier rubyid_format'>format</span><span class='period'>.</span><span class='id identifier rubyid_html'>html</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_redirect_to'>redirect_to</span> <span class='symbol'>:education</span><span class='comma'>,</span> <span class='symbol'>:notice</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Education details updated.</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span>
		<span class='kw'>else</span>
			<span class='id identifier rubyid_format'>format</span><span class='period'>.</span><span class='id identifier rubyid_html'>html</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_redirect_to'>redirect_to</span> <span class='symbol'>:education</span><span class='comma'>,</span> <span class='symbol'>:notice</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>An error occurred.</span><span class='tstring_end'>&quot;</span></span><span class='rbrace'>}</span>
		<span class='kw'>end</span> 
	<span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="update_existing_education-instance_method">
  
    - (<tt>Object</tt>) <strong>update_existing_education</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


173
174
175
176
177
178
179
180
181
182
183</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/controllers/teachers_controller.rb', line 173</span>

<span class='kw'>def</span> <span class='id identifier rubyid_update_existing_education'>update_existing_education</span>
	<span class='ivar'>@education</span> <span class='op'>=</span> <span class='const'>Education</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:id</span><span class='rbracket'>]</span><span class='rparen'>)</span>
	
	<span class='id identifier rubyid_respond_to'>respond_to</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_format'>format</span><span class='op'>|</span>
		<span class='kw'>if</span> <span class='ivar'>@education</span><span class='period'>.</span><span class='id identifier rubyid_update_attributes'>update_attributes</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:education</span><span class='rbracket'>]</span><span class='rparen'>)</span>
			<span class='id identifier rubyid_format'>format</span><span class='period'>.</span><span class='id identifier rubyid_html'>html</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_redirect_to'>redirect_to</span> <span class='symbol'>:education</span><span class='comma'>,</span> <span class='symbol'>:notice</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Education details updated.</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span>
		<span class='kw'>else</span>
			<span class='id identifier rubyid_format'>format</span><span class='period'>.</span><span class='id identifier rubyid_html'>html</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_redirect_to'>redirect_to</span> <span class='symbol'>:education</span><span class='comma'>,</span> <span class='symbol'>:notice</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>An error occurred.</span><span class='tstring_end'>&quot;</span></span><span class='rbrace'>}</span>
		<span class='kw'>end</span> 
	<span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="update_existing_experience-instance_method">
  
    - (<tt>Object</tt>) <strong>update_existing_experience</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/controllers/teachers_controller.rb', line 232</span>

<span class='kw'>def</span> <span class='id identifier rubyid_update_existing_experience'>update_existing_experience</span>
	<span class='ivar'>@prev_experience</span> <span class='op'>=</span> <span class='const'>Experience</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:id</span><span class='rbracket'>]</span><span class='rparen'>)</span>
	
	<span class='ivar'>@experience</span> <span class='op'>=</span> <span class='const'>Experience</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:experience</span><span class='rbracket'>]</span><span class='rparen'>)</span>
	<span class='ivar'>@experience</span><span class='period'>.</span><span class='id identifier rubyid_startMonth'>startMonth</span> <span class='op'>=</span> <span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:date</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:startMonth</span><span class='rbracket'>]</span>
	<span class='ivar'>@experience</span><span class='period'>.</span><span class='id identifier rubyid_startYear'>startYear</span> <span class='op'>=</span> <span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:date</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:startYear</span><span class='rbracket'>]</span>
	<span class='ivar'>@experience</span><span class='period'>.</span><span class='id identifier rubyid_endMonth'>endMonth</span> <span class='op'>=</span> <span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:date</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:endMonth</span><span class='rbracket'>]</span>
	<span class='ivar'>@experience</span><span class='period'>.</span><span class='id identifier rubyid_endYear'>endYear</span> <span class='op'>=</span> <span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:date</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:endYear</span><span class='rbracket'>]</span>
			<span class='kw'>if</span> <span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:current</span><span class='rbracket'>]</span>
			  <span class='ivar'>@experience</span><span class='period'>.</span><span class='id identifier rubyid_current'>current</span><span class='op'>=</span><span class='kw'>true</span>
			<span class='kw'>else</span>
			  <span class='ivar'>@experience</span><span class='period'>.</span><span class='id identifier rubyid_current'>current</span><span class='op'>=</span><span class='kw'>false</span>
			<span class='kw'>end</span>
	
	<span class='id identifier rubyid_respond_to'>respond_to</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_format'>format</span><span class='op'>|</span>
		<span class='kw'>if</span> <span class='ivar'>@prev_experience</span><span class='period'>.</span><span class='id identifier rubyid_update_attributes'>update_attributes</span><span class='lparen'>(</span><span class='symbol'>:company</span> <span class='op'>=&gt;</span> <span class='ivar'>@experience</span><span class='period'>.</span><span class='id identifier rubyid_company'>company</span><span class='comma'>,</span> <span class='symbol'>:position</span> <span class='op'>=&gt;</span> <span class='ivar'>@experience</span><span class='period'>.</span><span class='id identifier rubyid_position'>position</span><span class='comma'>,</span> <span class='symbol'>:description</span> <span class='op'>=&gt;</span> <span class='ivar'>@experience</span><span class='period'>.</span><span class='id identifier rubyid_description'>description</span><span class='comma'>,</span> <span class='symbol'>:startMonth</span> <span class='op'>=&gt;</span> <span class='ivar'>@experience</span><span class='period'>.</span><span class='id identifier rubyid_startMonth'>startMonth</span><span class='comma'>,</span> <span class='symbol'>:startYear</span> <span class='op'>=&gt;</span> <span class='ivar'>@experience</span><span class='period'>.</span><span class='id identifier rubyid_startYear'>startYear</span><span class='comma'>,</span> <span class='symbol'>:endMonth</span> <span class='op'>=&gt;</span> <span class='ivar'>@experience</span><span class='period'>.</span><span class='id identifier rubyid_endMonth'>endMonth</span><span class='comma'>,</span> <span class='symbol'>:endYear</span> <span class='op'>=&gt;</span> <span class='ivar'>@experience</span><span class='period'>.</span><span class='id identifier rubyid_endYear'>endYear</span><span class='comma'>,</span> <span class='symbol'>:current</span> <span class='op'>=&gt;</span> <span class='ivar'>@experience</span><span class='period'>.</span><span class='id identifier rubyid_current'>current</span><span class='rparen'>)</span>
			<span class='id identifier rubyid_format'>format</span><span class='period'>.</span><span class='id identifier rubyid_html'>html</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_redirect_to'>redirect_to</span> <span class='symbol'>:experience</span><span class='comma'>,</span> <span class='symbol'>:notice</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Experience details updated.</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span>
		<span class='kw'>else</span>
			<span class='id identifier rubyid_format'>format</span><span class='period'>.</span><span class='id identifier rubyid_html'>html</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_redirect_to'>redirect_to</span> <span class='symbol'>:experience</span><span class='comma'>,</span> <span class='symbol'>:notice</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>An error occurred.</span><span class='tstring_end'>&quot;</span></span><span class='rbrace'>}</span>
		<span class='kw'>end</span> 
	<span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="update_experience-instance_method">
  
    - (<tt>Object</tt>) <strong>update_experience</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/controllers/teachers_controller.rb', line 207</span>

<span class='kw'>def</span> <span class='id identifier rubyid_update_experience'>update_experience</span>
	<span class='ivar'>@teacher</span> <span class='op'>=</span> <span class='const'>Teacher</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_current_user'>current_user</span><span class='period'>.</span><span class='id identifier rubyid_teacher'>teacher</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='rparen'>)</span>
	
	<span class='ivar'>@experience</span> <span class='op'>=</span> <span class='const'>Experience</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:experience</span><span class='rbracket'>]</span><span class='rparen'>)</span>
	<span class='ivar'>@experience</span><span class='period'>.</span><span class='id identifier rubyid_startMonth'>startMonth</span> <span class='op'>=</span> <span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:date</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:startMonth</span><span class='rbracket'>]</span>
	<span class='ivar'>@experience</span><span class='period'>.</span><span class='id identifier rubyid_startYear'>startYear</span> <span class='op'>=</span> <span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:date</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:startYear</span><span class='rbracket'>]</span>
	<span class='ivar'>@experience</span><span class='period'>.</span><span class='id identifier rubyid_endMonth'>endMonth</span> <span class='op'>=</span> <span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:date</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:endMonth</span><span class='rbracket'>]</span>
	<span class='ivar'>@experience</span><span class='period'>.</span><span class='id identifier rubyid_endYear'>endYear</span> <span class='op'>=</span> <span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:date</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:endYear</span><span class='rbracket'>]</span>
			<span class='kw'>if</span> <span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:current</span><span class='rbracket'>]</span>
			  <span class='ivar'>@experience</span><span class='period'>.</span><span class='id identifier rubyid_current'>current</span><span class='op'>=</span><span class='kw'>true</span>
			<span class='kw'>else</span>
			  <span class='ivar'>@experience</span><span class='period'>.</span><span class='id identifier rubyid_current'>current</span><span class='op'>=</span><span class='kw'>false</span>
			<span class='kw'>end</span>
	
	<span class='ivar'>@teacher</span><span class='period'>.</span><span class='id identifier rubyid_experiences'>experiences</span><span class='period'>.</span><span class='id identifier rubyid_build'>build</span><span class='lparen'>(</span><span class='symbol'>:company</span> <span class='op'>=&gt;</span> <span class='ivar'>@experience</span><span class='period'>.</span><span class='id identifier rubyid_company'>company</span><span class='comma'>,</span> <span class='symbol'>:position</span> <span class='op'>=&gt;</span> <span class='ivar'>@experience</span><span class='period'>.</span><span class='id identifier rubyid_position'>position</span><span class='comma'>,</span> <span class='symbol'>:description</span> <span class='op'>=&gt;</span> <span class='ivar'>@experience</span><span class='period'>.</span><span class='id identifier rubyid_description'>description</span><span class='comma'>,</span> <span class='symbol'>:startMonth</span> <span class='op'>=&gt;</span> <span class='ivar'>@experience</span><span class='period'>.</span><span class='id identifier rubyid_startMonth'>startMonth</span><span class='comma'>,</span> <span class='symbol'>:startYear</span> <span class='op'>=&gt;</span> <span class='ivar'>@experience</span><span class='period'>.</span><span class='id identifier rubyid_startYear'>startYear</span><span class='comma'>,</span> <span class='symbol'>:endMonth</span> <span class='op'>=&gt;</span> <span class='ivar'>@experience</span><span class='period'>.</span><span class='id identifier rubyid_endMonth'>endMonth</span><span class='comma'>,</span> <span class='symbol'>:endYear</span> <span class='op'>=&gt;</span> <span class='ivar'>@experience</span><span class='period'>.</span><span class='id identifier rubyid_endYear'>endYear</span><span class='comma'>,</span> <span class='symbol'>:current</span> <span class='op'>=&gt;</span> <span class='ivar'>@experience</span><span class='period'>.</span><span class='id identifier rubyid_current'>current</span><span class='rparen'>)</span>
	
	<span class='id identifier rubyid_respond_to'>respond_to</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_format'>format</span><span class='op'>|</span>
		<span class='kw'>if</span> <span class='ivar'>@teacher</span><span class='period'>.</span><span class='id identifier rubyid_save'>save</span>
			<span class='id identifier rubyid_format'>format</span><span class='period'>.</span><span class='id identifier rubyid_html'>html</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_redirect_to'>redirect_to</span> <span class='symbol'>:experience</span><span class='comma'>,</span> <span class='symbol'>:notice</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Experience details updated.</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span>
		<span class='kw'>else</span>
			<span class='id identifier rubyid_format'>format</span><span class='period'>.</span><span class='id identifier rubyid_html'>html</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_redirect_to'>redirect_to</span> <span class='symbol'>:experience</span><span class='comma'>,</span> <span class='symbol'>:notice</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>An error occurred.</span><span class='tstring_end'>&quot;</span></span><span class='rbrace'>}</span>
		<span class='kw'>end</span> 
	<span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

    <div id="footer">
  Generated on Thu Oct 11 16:47:23 2012 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.2.1 (ruby-1.9.3).
</div>

  </body>
</html>